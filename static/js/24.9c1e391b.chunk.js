(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{4757:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(6),r=a(11),o=a(12),l=a(15),c=a(14),p=a(18),u=a(0),h=a.n(u),f=a(4735),d=a(163),m=a(4736),g=a(50),v=a(4),w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={},a.functionsUtil=null,a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new g.a(this.props)}},{key:"componentWillMount",value:function(){var e=Object(i.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadUtils();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(s.a.mark(function e(t,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadUtils();case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=null,t=this.props.fieldInfo,a=Object.assign({},this.props.delegate),n={fontWeight:3,fontSize:[0,2],color:"cellText",style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},flexProps:{justifyContent:"flex-start"}};switch(t.props&&Object.keys(t.props).length&&Object.keys(t.props).forEach(function(e){n[e]=t.props[e]}),t.name){case"avatar":e=h.a.createElement(v.h,Object.assign({},n,{alignItems:"center",justifyContent:"center"}),h.a.createElement(v.a,{opts:{size:7,color:"#dfe",bgcolor:"#a71",spotcolor:"#000",seed:a.delegate}}));break;case"rank":case"votes":case"delegate":case"proposals":case"vote_weight":var s=a[t.name];"votes"===t.name&&(s=this.functionsUtil.formatMoney(this.functionsUtil.BNify(s).toFixed(2,1),2)),e=h.a.createElement(v.u,n,s)}return e}}]),t}(u.Component),b=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(s)))).state={page:1,filters:{},loading:!0,rowsPerPage:10,totalRows:null,totalPages:null,activeFilters:{},processedRows:null,lastBlockNumber:null},a.functionsUtil=null,a.applyFilters=function(e){a.setState({activeFilters:e},function(){a.processList()})},a.resetFilters=function(){a.setState({activeFilters:{status:null}},function(){a.processList()})},a.processList=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!a.props.delegates)return!1;e=e||a.state.page;var t=a.props.rowsPerPage?a.props.rowsPerPage:a.state.rowsPerPage,n=Object.values(a.props.delegates).sort(function(e,t){return e.timestamp>t.timestamp?-1:1});null!==a.props.maxRows&&a.props.maxRows>0&&(n=n.splice(0,a.props.maxRows));var s=n.length,i=Math.ceil(s/t),r=[];n.forEach(function(a,n){n>=(e-1)*t&&n<(e-1)*t+t&&r.push(a)});a.setState({loading:!1,totalRows:s,totalPages:i,processedRows:r})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new g.a(this.props)}},{key:"prevPage",value:function(e){e&&e.preventDefault();var t=Math.max(1,this.state.page-1);this.setState({page:t})}},{key:"nextPage",value:function(e){e&&e.preventDefault();var t=Math.min(this.state.totalPages,this.state.page+1);this.processList(t),this.setState({page:t})}},{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadUtils(),this.processList();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(i.a)(s.a.mark(function e(t,a){var n,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadUtils(),n=a.page!==this.state.page,i=JSON.stringify(t.delegates)!==JSON.stringify(this.props.delegates),(n||i)&&this.processList();case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.processedRows?Object.values(this.state.processedRows):null;return h.a.createElement(v.h,{flexDirection:"column",width:1,m:"0 auto"},this.state.loading||null===!this.state.processedRows?h.a.createElement(d.a,{flexProps:{minHeight:"50vh",flexDirection:"row"},loaderProps:{size:"30px"},textProps:{ml:2},text:"Loading Leaderboard..."}):h.a.createElement(v.h,{width:1,position:"relative",flexDirection:"column",id:"delegates-list-container"},t&&t.length>0?h.a.createElement(v.h,{width:1,flexDirection:"column"},h.a.createElement(m.a,{cols:this.props.cols,isMobile:this.props.isMobile}),h.a.createElement(v.h,{id:"delegates-list",flexDirection:"column"},t.map(function(t,a){var n=t.delegate;return h.a.createElement(f.a,Object.assign({},e.props,{rowProps:{isInteractive:!0},id:n,delegate:t,key:"delegate-".concat(a),handleClick:function(t){return n?e.props.goToSection("leaderboard/".concat(n)):null},fieldComponent:w,rowId:"delegate-col-".concat(a),cardId:"delegate-card-".concat(a)}))})),h.a.createElement(v.h,{height:"50px",alignItems:"center",flexDirection:"row",justifyContent:"flex-end",id:"delegates-list-pagination"},h.a.createElement(v.h,{mr:3},h.a.createElement(v.n,{mr:1,onClick:function(t){return e.prevPage(t)}},h.a.createElement(v.k,{name:"KeyboardArrowLeft",size:"2em",color:this.state.page>1?"#4f4f4f":"#d8d8d8"})),h.a.createElement(v.n,{onClick:function(t){return e.nextPage(t)}},h.a.createElement(v.k,{name:"KeyboardArrowRight",size:"2em",color:this.state.page<this.state.totalPages?"#4f4f4f":"#d8d8d8"}))),h.a.createElement(v.h,{alignItems:"center"},h.a.createElement(v.u,{fontSize:1,fontWeight:3,color:"cellText"},"Page ",this.state.page," of ",this.state.totalPages)))):h.a.createElement(v.j.h3,{fontWeight:2,fontSize:[2,3],color:"dark-gray",textAlign:"center",fontFamily:"sansSerif"},"There are no delegates")))}}]),t}(u.Component);t.a=b},4834:function(e,t,a){"use strict";a.r(t);var n=a(35),s=a(1),i=a.n(s),r=a(6),o=a(11),l=a(12),c=a(15),p=a(14),u=a(18),h=a(282),f=a(4),d=a(0),m=a.n(d),g=a(311),v=a(163),w=a(4733),b=a(4756),x=a(4757),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={delegates:[],proposals:[],totalSupply:0,dataLoaded:!1,votesDelegated:0},a.functionsUtil=null,a.governanceUtil=null,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"loadUtils",value:function(){this.governanceUtil?this.governanceUtil.setProps(this.props):this.governanceUtil=new w.a(this.props),this.functionsUtil=this.governanceUtil.functionsUtil}},{key:"componentWillMount",value:function(){var e=Object(r.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadUtils(),this.loadData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(r.a)(i.a.mark(function e(t,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.loadUtils();case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadData",value:function(){var e=Object(r.a)(i.a.mark(function e(){var t,a,s,r,o,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.governanceUtil.getDelegates(),this.governanceUtil.getProposals(),this.governanceUtil.getTotalSupply()]);case 2:t=e.sent,a=Object(n.a)(t,3),s=a[0],r=a[1],o=a[2],l=s.reduce(function(e,t){return e+=parseFloat(t.votes)},0),!0,this.setState({delegates:s,proposals:r,dataLoaded:!0,totalSupply:o,votesDelegated:l});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return m.a.createElement(f.b,{width:1},m.a.createElement(h.a,{mb:[3,4]},"Governance Overview"),this.state.dataLoaded?m.a.createElement(f.b,{width:1},m.a.createElement(f.h,{width:1,mb:[3,4],alignItems:"center",justifyContent:"center",flexDirection:["column","row"]},m.a.createElement(f.h,{mb:[2,0],pr:[0,1],width:[1,.25],flexDirection:"column"},m.a.createElement(g.default,{label:null,labelTooltip:null,title:"Votes Delegated",minHeight:["130px","143px"],titleMinHeight:["auto","50px"],value:this.functionsUtil.formatMoney(this.state.votesDelegated.toFixed(2,1),2)})),m.a.createElement(f.h,{mb:[2,0],pl:[0,1],pr:[0,1],width:[1,.25],flexDirection:"column"},m.a.createElement(g.default,{label:null,labelTooltip:null,title:"Voting Addresses",minHeight:["130px","143px"],titleMinHeight:["auto","50px"],value:this.state.delegates.length})),m.a.createElement(f.h,{mb:[2,0],pl:[0,1],pr:[0,1],width:[1,.25],flexDirection:"column"},m.a.createElement(g.default,{label:null,labelTooltip:null,title:"Proposals",minHeight:["130px","143px"],titleMinHeight:["auto","50px"],value:this.state.proposals.length})),m.a.createElement(f.h,{pl:[0,1],mb:[2,0],width:[1,.25],flexDirection:"column"},m.a.createElement(g.default,{label:null,labelTooltip:null,title:"IDLE Circulating",minHeight:["130px","143px"],titleMinHeight:["auto","50px"],value:this.functionsUtil.formatMoney(this.state.totalSupply,0)}))),m.a.createElement(f.b,{width:1,mt:[4,5]},m.a.createElement(h.a,{mb:[3,4]},"Recent Proposals"),m.a.createElement(f.h,{mb:[3,4],width:1,id:"transactions",flexDirection:"column"},m.a.createElement(b.a,Object.assign({},this.props,{rowsPerPage:5,filtersEnabled:!1,proposals:this.state.proposals,cols:[{title:"#",props:{width:[.1,.05]},fields:[{name:"id",props:{}}]},{title:"DATE",mobile:!1,props:{width:[.15,.12]},fields:[{name:"date"}]},{title:"TITLE",props:{width:[.75,.6]},fields:[{name:"title"}]},{mobile:!1,title:"VOTES",props:{width:[.11,.11]},fields:[{name:"votes"}]},{title:"STATUS",props:{width:[.15,.12],alignItems:["center","flex-start"],justifyContent:["center","flex-start"]},parentProps:{justifyContent:["center","flex-start"]},fields:[{name:"statusIcon",props:{mr:[0,2]}},{mobile:!1,name:"status"}]}]})))),m.a.createElement(f.b,{width:1},m.a.createElement(h.a,{mb:[3,4]},"Leaderboard"),m.a.createElement(f.h,{mb:[3,4],width:1,id:"transactions",flexDirection:"column"},m.a.createElement(x.a,Object.assign({maxRows:100},this.props,{rowsPerPage:5,delegates:this.state.delegates,cols:[{title:"RANK",props:{width:[.13,.08]},fields:[{name:"rank"}]},{title:"ADDRESS",props:{width:[.6,.5]},fields:[{mobile:!1,name:"avatar",props:{mr:2}},{name:"delegate"}]},{title:"VOTES",props:{width:[.27,.12]},fields:[{name:"votes"}]},{mobile:!1,title:"VOTE WEIGHT",props:{width:[.15,.15]},fields:[{name:"vote_weight",parentProps:{alignItems:"center"}}]},{mobile:!1,title:"PROPOSALS VOTED",props:{width:[.15,.15]},fields:[{name:"proposals",parentProps:{alignItems:"center"}}]}]}))))):m.a.createElement(v.a,{flexProps:{minHeight:"50vh",flexDirection:"row"},loaderProps:{size:"30px"},textProps:{ml:2},text:"Loading Data..."}))}}]),t}(d.Component);t.default=y}}]);
//# sourceMappingURL=24.9c1e391b.chunk.js.map