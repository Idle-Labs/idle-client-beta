"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[6445,1838,8194,745,8024],{6445:function(e,t,n){n.r(t),n.d(t,{AssetDiscountedFees:function(){return b}});var o=n(1413),r=n(54447),s=n(87099),i=n(7276),l=n(39807),a=n(80745),d=n(97778),u=n(15542),c=n(1669),f=n(3498),m=n(20910),g=n(75712),x=n(48024),h=n(61838),p=n(45263),b=function(e){var t=e.assetId,n=(0,l.f)().openModal,b=(0,c.w)().selectors.selectAssetById,y=(0,i.useMemo)((function(){return b&&b(t)}),[b,t]),v=(0,i.useCallback)((function(){var e={cta:"defi.modals.feeDiscount.cta",body:(0,p.jsxs)(f.gC,{spacing:2,width:"full",children:[(0,p.jsx)(u.Translation,{translation:"defi.modals.feeDiscount.body",isHtml:!0}),(0,p.jsx)(h.FeeDiscountTable,{showHeader:!1,sortEnabled:!1})]}),subtitle:"defi.modals.feeDiscount.title"};return n(e,"2xl")}),[n]),j=(0,i.useMemo)((function(){return(0,m.xb)(null===y||void 0===y?void 0:y.discountedFees)?null:(0,p.jsx)(a.Scrollable,{maxH:400,children:(0,m.Pf)(null===y||void 0===y?void 0:y.discountedFees,"timeStamp","desc").map((function(e){var t=(0,o.Z)((0,o.Z)({},e.tx),{},{action:"feeDiscount",idlePrice:(0,m.gA)(0),idleAmount:(0,m.gA)(0),chainId:e.chainId,assetId:e.assetId,underlyingAmount:e.value});return(0,p.jsx)(x.TransactionItem,{transaction:t},"tx_".concat(t.hash))}))})}),[null===y||void 0===y?void 0:y.discountedFees]),w=(0,i.useCallback)((function(){return n({cta:"common.close",body:j,subtitle:"common.discountsHistory"},"2xl")}),[n,j]),C=(0,i.useMemo)((function(){return!y||(0,m.xb)(y.discountedFees)?(0,m.gA)(0):y.discountedFees.reduce((function(e,t){return e.plus(t.value)}),(0,m.gA)(0))}),[y]),S=(0,i.useMemo)((function(){return(0,m.xb)(null===y||void 0===y?void 0:y.discountedFees)?null:(0,m.Pf)(y.discountedFees,"timeStamp","desc")[0]}),[y]),I=(0,i.useMemo)((function(){var e;return y&&"flags"in y&&!(null===(e=y.flags)||void 0===e||!e.feeDiscountEnabled)}),[y]);return y&&y.underlyingId&&I?(0,p.jsxs)(f.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,p.jsx)(u.Translation,{component:f.X6,as:"h3",fontSize:"h3",translation:"defi.discountedFees"}),(0,p.jsx)(f.gC,{spacing:4,width:"full",alignItems:"flex-start",children:(0,p.jsx)(r.Card,{py:6,px:8,width:"full",children:(0,p.jsx)(g.AssetProvider,{assetId:y.underlyingId,children:(0,p.jsxs)(f.MI,{width:"full",spacing:[3,0],columns:[2,3],justifyContent:"center",alignItems:"space-between",children:[(0,p.jsx)(d.TokenAmount,{assetId:y.underlyingId,size:"sm",spacing:3,amount:C,showIcon:!0,textStyle:"heading",fontSize:"h3"}),(0,p.jsxs)(f.gC,{spacing:1,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,p.jsx)(u.Translation,{component:f.xv,translation:"common.lastDistribution",textStyle:"titleSmall"}),S?(0,p.jsx)(f.xv,{textStyle:"tableCell",children:(0,m.p6)(S.timeStamp,s.Cu)}):(0,p.jsx)(f.xv,{textStyle:"tableCell",children:"-"})]}),(0,p.jsx)(f.gC,{justifyContent:"center",alignItems:"flex-end",children:S?(0,p.jsx)(u.Translation,{translation:"assets.assetDetails.assetHistory.discountsHistory",textStyle:"linkBlue",fontSize:"md",fontWeight:700,onClick:function(){return w()}}):(0,p.jsx)(u.Translation,{translation:"common.howItWorks",textStyle:"linkBlue",fontSize:"md",fontWeight:700,onClick:function(){return v()}})})]})})})})]}):null}},61838:function(e,t,n){n.r(t),n.d(t,{FeeDiscountTable:function(){return x}});var o=n(1413),r=n(45987),s=n(20910),i=n(7276),l=n(79681),a=n(86059),d=n(54447),u=n(58194),c=n(15542),f=n(76590),m=n(45263),g=["showHeader","sortEnabled"],x=function(e){var t=e.showHeader,n=void 0===t||t,x=e.sortEnabled,h=void 0===x||x,p=(0,r.Z)(e,g),b=(0,l.qM)(),y=(0,i.useMemo)((function(){return Object.keys(f.S).reduce((function(e,t,n){return e.push({tier:n+1,amount:t,discount:f.S[+t]}),e}),[])}),[]),v=(0,i.useMemo)((function(){return[{id:"tier",accessor:"tier",disableSortBy:!h,defaultCanSort:h,Header:b("feeDiscount.table.columns.tier"),Cell:function(e){var t=e.value;return(0,m.jsx)(a.Amount.Int,{textStyle:"tableCell",value:t})},sortType:s._O},{id:"amount",accessor:"amount",disableSortBy:!h,defaultCanSort:h,Header:b("feeDiscount.table.columns.stkIDLE"),Cell:function(e){var t=e.value;return(0,m.jsx)(a.Amount,{textStyle:"tableCell",prefix:"\u2265 ",value:t})},sortType:s._O},{id:"discount",accessor:"discount",disableSortBy:!h,defaultCanSort:h,Header:b("feeDiscount.table.columns.feeDiscount"),Cell:function(e){var t=e.value;return(0,m.jsx)(a.Amount.Percentage,{textStyle:"tableCell",value:t})},sortType:s._O}]}),[h,b]);return(0,m.jsxs)(d.Card,(0,o.Z)((0,o.Z)({p:0},p),{},{children:[n&&(0,m.jsx)(c.Translation,{translation:"feeDiscount.table.header",fontSize:"lg",component:d.Card.Heading}),(0,m.jsx)(c.Translation,{translation:"feeDiscount.table.description"}),(0,m.jsx)(u.ReactTable,{columns:v,data:y,page:1,rowsPerPage:y.length,initialState:{sortBy:[{id:"tier",desc:!0}]}})]}))}},58194:function(e,t,n){n.r(t),n.d(t,{ReactTable:function(){return g}});var o=n(1413),r=n(29439),s=n(7276),i=n(55967),l=n(63591),a=n(96699),d=n(3498),u=n(26720),c=n(67503),f=n(45263),m=function(e){var t=e.column,n=(0,a.Fg)();return(0,f.jsxs)(d.kC,{alignItems:"center",layerStyle:"tableHeader",justifyContent:"space-between",children:[t.render("Header"),t.canSort&&(0,f.jsxs)(d.kC,{direction:"column",children:[(0,f.jsx)(i.rWj,{size:20,fill:t.isSorted&&t.isSortedDesc?n.colors.primary:n.colors.table.arrow,"aria-label":"sorted ascending",style:{position:"absolute"}}),(0,f.jsx)(i.Ix0,{size:20,fill:t.isSorted?t.isSortedDesc?n.colors.table.arrow:n.colors.primary:n.colors.table.arrow,"aria-label":"sorted descending",style:{marginTop:10}})]})]})},g=function(e){var t=e.columns,n=e.data,g=e.page,x=e.rowsPerPage,h=e.displayHeaders,p=void 0===h||h,b=e.onRowClick,y=e.onToggleRow,v=e.initialState,j=(0,a.Fg)(),w=(0,u.ff)("black","white"),C=(0,s.useState)(null),S=(0,r.Z)(C,2),I=S[0],T=S[1],k=(0,l.useTable)({columns:t,data:n,initialState:v},l.useSortBy),R=k.getTableProps,Z=k.getTableBodyProps,A=k.headerGroups,D=k.rows,B=k.prepareRow,H=(0,s.useCallback)((function(e){T((function(t){return t===e?null:e}))}),[T]);(0,s.useEffect)((function(){if(y)return y(I)}),[y,I]);var P=(0,s.useMemo)((function(){return x&&g?D.slice(x*(g-1),x*g):D}),[D,g,x]),F=(0,s.useMemo)((function(){return P.map((function(e,t){var n=!1;B(e);var r=t===P.length-1,l=r&&!I?{borderBottom:0}:{};return(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(c.Tr,(0,o.Z)((0,o.Z)({},e.getRowProps()),{},{tabIndex:e.index,layerStyle:"tableRow",backgroundColor:I===e?"card.bgLight":"initial",onClick:function(){var t;return(null===(t=e.subRows)||void 0===t?void 0:t.length)>0?H(e):null===b||void 0===b?void 0:b(e)},cursor:b?"pointer":void 0,sx:l,children:e.cells.map((function(t,r){var l,a=!n&&"none"!==t.column.display,u=r===e.cells.length-1;a&&(n=!0);var m=a?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:u?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,s.createElement)(c.Td,(0,o.Z)((0,o.Z)({},t.getCellProps()),{},{display:t.column.display,sx:m,key:r}),(0,f.jsxs)(d.Ug,{flex:1,width:"full",justifyContent:"space-between",children:[t.render("Cell"),u&&(null===(l=e.subRows)||void 0===l?void 0:l.length)>0&&(I===e?(0,f.jsx)(i.rWj,{size:24,color:j.colors.primary}):(0,f.jsx)(i.Ix0,{size:24,color:j.colors.primary}))]}))}))})),I===e&&e.subRows.map((function(t,i){B(t);var l=i===e.subRows.length-1,a=r&&l?{borderBottom:0}:{};return(0,s.createElement)(c.Tr,(0,o.Z)((0,o.Z)({},t.getRowProps()),{},{tabIndex:t.index,layerStyle:"tableRow",backgroundColor:"button.bgHover",onClick:function(){return null===b||void 0===b?void 0:b(t)},cursor:b?"pointer":void 0,sx:a,key:i}),t.cells.map((function(e,r){var i=!n&&"none"!==e.column.display,l=r===t.cells.length-1;i&&(n=!0);var a=i?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:l?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,s.createElement)(c.Td,(0,o.Z)((0,o.Z)({},e.getCellProps()),{},{display:e.column.display,sx:a,key:r}),e.render("Cell"))})))}))]},t)}))}),[H,I,B,j,P,b]);return(0,f.jsxs)(c.iA,(0,o.Z)((0,o.Z)({variant:"clickable",size:{base:"sm",md:"md"}},R()),{},{children:[p&&(0,f.jsx)(c.hr,{children:A.map((function(e,t){var n=!1;return(0,s.createElement)(c.Tr,(0,o.Z)((0,o.Z)({},e.getHeaderGroupProps()),{},{key:t}),e.headers.map((function(t,r){var i=!n&&"none"!==t.display,l=r===e.headers.length-1;i&&(n=!0);var a=i?{paddingLeft:0,paddingRight:4}:l?{paddingLeft:4,paddingRight:0}:{paddingLeft:4,paddingRight:4};return t.width&&(a.width=t.width),(0,s.createElement)(c.Th,(0,o.Z)((0,o.Z)({},t.getHeaderProps(t.getSortByToggleProps({title:void 0}))),{},{color:"gray.500",fontWeight:400,display:t.display,textAlign:t.textAlign,_hover:{color:t.canSort?w:"gray.500"},style:a,key:r}),(0,f.jsx)(m,{column:t}))})))}))}),(0,f.jsx)(c.p3,(0,o.Z)((0,o.Z)({},Z()),{},{children:F}))]}))}},80745:function(e,t,n){n.r(t),n.d(t,{Scrollable:function(){return a}});var o=n(1413),r=n(45987),s=(n(7276),n(3498)),i=n(45263),l=["children"],a=function(e){var t=e.children,n=(0,r.Z)(e,l);return(0,i.jsx)(s.kC,(0,o.Z)((0,o.Z)({flex:1,width:"100%",overflowY:"auto",overflowX:"hidden",direction:"column",alignItems:"flex-start"},n),{},{children:t}))}},48024:function(e,t,n){n.r(t),n.d(t,{TransactionItem:function(){return c}});var o=n(20910),r=n(87099),s=n(86059),i=n(3498),l=n(97778),a=n(15542),d=n(10658),u=n(45263),c=function(e){var t=e.transaction;return(0,u.jsxs)(i.gC,{mb:2,pb:4,spacing:4,width:"100%",alignItems:"flex-start",borderBottomWidth:"1px",borderBottomColor:"divider",children:[(0,u.jsxs)(i.Ug,{width:"100%",justifyContent:"space-between",children:[(0,u.jsx)(i.Ug,{spacing:3,direction:"row",alignItems:"center",children:(0,u.jsx)(a.Translation,{component:i.xv,translation:"transactionRow.".concat(t.action),textStyle:"captionSmall"})}),(0,u.jsx)(i.xv,{textStyle:"captionSmall",children:(0,o.p6)(1e3*+t.timeStamp,r.Cu)})]}),(0,u.jsxs)(i.Ug,{width:"100%",justifyContent:"space-between",children:[(0,u.jsxs)(i.Ug,{spacing:1,alignItems:"center",children:[(0,u.jsx)(l.TokenAmount,{assetId:t.assetId,amount:t.underlyingAmount,size:"xs",textStyle:"tableCell"}),t.amountUsd&&!(0,o.gA)(t.amountUsd).eq(t.underlyingAmount)&&(0,u.jsx)(s.Amount.Usd,{prefix:"~",value:t.amountUsd,color:"cta",fontSize:"xs"})]}),(0,u.jsx)(d.TransactionLink,{hash:t.hash,chainId:t.chainId})]})]})}}}]);