"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[6765,1617,4447,8194,6957],{61617:function(e,r,t){t.r(r),t.d(r,{AssetLabel:function(){return d}});var n=t(1413),a=t(45987),i=t(3498),l=t(75712),s=t(45263),o=["assetId","size","spacing"],d=function(e){var r=e.assetId,t=e.size,d=void 0===t?"sm":t,c=e.spacing,u=(0,a.Z)(e,o);return(0,s.jsx)(l.AssetProvider,{wrapFlex:!1,assetId:r,children:(0,s.jsxs)(i.Ug,{spacing:c,alignItems:"center",justifyContent:"flex-start",children:[(0,s.jsx)(l.AssetProvider.Icon,{size:d}),(0,s.jsx)(l.AssetProvider.Name,(0,n.Z)({textStyle:"heading",fontSize:["15px","h3"],whiteSpace:"nowrap"},u))]})})}},54447:function(e,r,t){t.r(r),t.d(r,{Card:function(){return p},CardFlex:function(){return g},Dark:function(){return x},Light:function(){return h},Outline:function(){return f}});var n=t(1413),a=t(45987),i=t(3498),l=t(45263),s=["children"],o=["children","layerStyle"],d=["children","layerStyle"],c=["children"],u=["children"],y=["children"],p=function(e){var r=e.children,t=e.layerStyle,s=(0,a.Z)(e,o);return(0,l.jsx)(i.xu,(0,n.Z)((0,n.Z)({width:"100%",position:"relative",layerStyle:t||"card"},s),{},{children:r}))},g=function(e){var r=e.children,t=e.layerStyle,s=(0,a.Z)(e,d);return(0,l.jsx)(i.kC,(0,n.Z)((0,n.Z)({width:"100%",layerStyle:t||"card"},s),{},{children:r}))},x=function(e){var r=e.children,t=(0,a.Z)(e,c),i=["cardDark"].concat(e.layerStyle);return(0,l.jsx)(p,(0,n.Z)((0,n.Z)({},t),{},{layerStyle:i,children:r}))},h=function(e){var r=e.children,t=(0,a.Z)(e,u),i=["cardLight"].concat(e.layerStyle);return(0,l.jsx)(p,(0,n.Z)((0,n.Z)({},t),{},{layerStyle:i,children:r}))},f=function(e){var r=e.children,t=(0,a.Z)(e,y),i=["cardOutline"].concat(e.layerStyle);return(0,l.jsx)(p,(0,n.Z)((0,n.Z)({},t),{},{layerStyle:i,children:r}))};p.Dark=x,p.Light=h,p.Flex=g,p.Outline=f,p.Heading=function(e){var r=e.children,t=(0,a.Z)(e,s);return(0,l.jsx)(i.X6,(0,n.Z)((0,n.Z)({as:"h3",size:"md",mb:6},t),{},{children:r}))}},58194:function(e,r,t){t.r(r),t.d(r,{ReactTable:function(){return g}});var n=t(1413),a=t(29439),i=t(7276),l=t(55967),s=t(63591),o=t(96699),d=t(3498),c=t(26720),u=t(67503),y=t(45263),p=function(e){var r=e.column,t=(0,o.Fg)();return(0,y.jsxs)(d.kC,{alignItems:"center",layerStyle:"tableHeader",justifyContent:"space-between",children:[r.render("Header"),r.canSort&&(0,y.jsxs)(d.kC,{direction:"column",children:[(0,y.jsx)(l.rWj,{size:20,fill:r.isSorted&&r.isSortedDesc?t.colors.primary:t.colors.table.arrow,"aria-label":"sorted ascending",style:{position:"absolute"}}),(0,y.jsx)(l.Ix0,{size:20,fill:r.isSorted?r.isSortedDesc?t.colors.table.arrow:t.colors.primary:t.colors.table.arrow,"aria-label":"sorted descending",style:{marginTop:10}})]})]})},g=function(e){var r=e.columns,t=e.data,g=e.page,x=e.rowsPerPage,h=e.displayHeaders,f=void 0===h||h,v=e.onRowClick,m=e.onToggleRow,j=e.initialState,b=(0,o.Fg)(),A=(0,c.ff)("black","white"),Z=(0,i.useState)(null),S=(0,a.Z)(Z,2),R=S[0],w=S[1],C=(0,s.useTable)({columns:r,data:t,initialState:j},s.useSortBy),P=C.getTableProps,T=C.getTableBodyProps,k=C.headerGroups,I=C.rows,B=C.prepareRow,L=(0,i.useCallback)((function(e){w((function(r){return r===e?null:e}))}),[w]);(0,i.useEffect)((function(){if(m)return m(R)}),[m,R]);var z=(0,i.useMemo)((function(){return x&&g?I.slice(x*(g-1),x*g):I}),[I,g,x]),U=(0,i.useMemo)((function(){return z.map((function(e){var r=!1;return B(e),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.Tr,(0,n.Z)((0,n.Z)({},e.getRowProps()),{},{tabIndex:e.index,layerStyle:"tableRow",backgroundColor:R===e?"card.bgLight":"initial",onClick:function(){var r;return(null===(r=e.subRows)||void 0===r?void 0:r.length)>0?L(e):null===v||void 0===v?void 0:v(e)},cursor:v?"pointer":void 0,children:e.cells.map((function(t,a){var i,s=!r&&"none"!==t.column.display,o=a===e.cells.length-1;s&&(r=!0);var c=s?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:o?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,y.jsx)(u.Td,(0,n.Z)((0,n.Z)({},t.getCellProps()),{},{display:t.column.display,sx:c,children:(0,y.jsxs)(d.Ug,{flex:1,width:"full",justifyContent:"space-between",children:[t.render("Cell"),o&&(null===(i=e.subRows)||void 0===i?void 0:i.length)>0&&(R===e?(0,y.jsx)(l.rWj,{size:24,color:b.colors.primary}):(0,y.jsx)(l.Ix0,{size:24,color:b.colors.primary}))]})}))}))})),R===e&&e.subRows.map((function(e){return B(e),(0,y.jsx)(u.Tr,(0,n.Z)((0,n.Z)({},e.getRowProps()),{},{tabIndex:e.index,layerStyle:"tableRow",backgroundColor:"button.bgHover",onClick:function(){return null===v||void 0===v?void 0:v(e)},cursor:v?"pointer":void 0,children:e.cells.map((function(t,a){var i=!r&&"none"!==t.column.display,l=a===e.cells.length-1;i&&(r=!0);var s=i?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:l?{borderTopRightRadius:8,borderBottomRightRadius:8}:{};return(0,y.jsx)(u.Td,(0,n.Z)((0,n.Z)({},t.getCellProps()),{},{display:t.column.display,sx:s,children:t.render("Cell")}))}))}))}))]})}))}),[L,R,B,b,z,v]);return(0,y.jsxs)(u.iA,(0,n.Z)((0,n.Z)({variant:"clickable",size:{base:"sm",md:"md"}},P()),{},{children:[f&&(0,y.jsx)(u.hr,{children:k.map((function(e){var r=!1;return(0,y.jsx)(u.Tr,(0,n.Z)((0,n.Z)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(t,a){var i=!r&&"none"!==t.display,l=a===e.headers.length-1;i&&(r=!0);var s=i?{paddingLeft:0,paddingRight:4}:l?{paddingLeft:4,paddingRight:0}:{paddingLeft:4,paddingRight:4};return(0,y.jsx)(u.Th,(0,n.Z)((0,n.Z)({},t.getHeaderProps(t.getSortByToggleProps({title:void 0}))),{},{color:"gray.500",fontWeight:400,display:t.display,textAlign:t.textAlign,_hover:{color:t.canSort?A:"gray.500"},style:s,children:(0,y.jsx)(p,{column:t})}))}))}))}))}),(0,y.jsx)(u.p3,(0,n.Z)((0,n.Z)({},T()),{},{children:U}))]}))}},56765:function(e,r,t){t.r(r),t.d(r,{Stats:function(){return S}});var n=t(4942),a=t(93433),i=t(1413),l=t(5128),s=t(54447),o=t(79681),d=t(95173),c=t(86059),u=t(12056),y=t(99594),p=t(7276),g=t(61617),x=t(58194),h=t(15542),f=t(96957),v=t(1669),m=t(85267),j=t(75712),b=t(3498),A=t(89030),Z=t(45263),S=function(){var e=(0,d.s0)(),r=(0,m.m)().location,t=(0,v.w)(),S=t.assetsData,R=t.isPortfolioLoaded,w=t.selectors,C=w.selectAssetById,P=w.selectVaultById,T=(0,o.qM)(),k=(0,p.useCallback)((function(t){return t?e("".concat(null===r||void 0===r?void 0:r.pathname.replace(/\/$/,""),"/").concat(t)):null}),[e,r]),I=(0,p.useMemo)((function(){return R?Object.values(S).reduce((function(e,r){if(!("type"in r))return e;var t=u.A[r.type];return t&&"strategy"in t?(e[t.strategy]||(e[t.strategy]=[]),(0,i.Z)((0,i.Z)({},e),{},(0,n.Z)({},t.strategy,[].concat((0,a.Z)(e[t.strategy]),[r])))):e}),{}):{}}),[S,R]),B=(0,p.useMemo)((function(){return Object.keys(I).reduce((function(e,r){return I[r].forEach((function(t){var n=C(t.underlyingId);if(n){var a="".concat(n.id,"_").concat(r);e[a]?t.apy&&(e[a].apyRange.minApy?e[a].apyRange.minApy=l.O.minimum(e[a].apyRange.minApy,t.apy):e[a].apyRange.minApy=(0,y.gA)(t.apy),e[a].apyRange.maxApy?e[a].apyRange.maxApy=l.O.maximum(e[a].apyRange.maxApy,t.apy):e[a].apyRange.maxApy=(0,y.gA)(t.apy)):(e[a]=(0,i.Z)({},n),e[a].strategy=r,e[a].subRows=[],e[a].apyRange={minApy:t.apy||null,maxApy:t.apy||null}),e[a].tvlUsd=(0,y.d5)(e[a].tvlUsd).plus((0,y.d5)(t.tvlUsd));var s=P(t.id);if("tranches"===r){var o=s.cdoConfig,d=e[a].subRows.find((function(e){var r=P(e.id);return"cdoConfig"in r&&r.cdoConfig.address===o.address&&e.id!==t.id}));d?d.tvlUsd=(0,y.d5)(d.tvlUsd).plus((0,y.d5)(t.tvlUsd)):e[a].subRows.push((0,i.Z)({},t))}else e[a].subRows.push((0,i.Z)({},t))}})),e}),{})}),[I,C,P]),L=(0,p.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"},{id:"asset",accessor:"id",Header:T("defi.asset"),Cell:function(e){var r=e.value,t=e.row;return"AA"===t.original.type||"BB"===t.original.type?(0,Z.jsx)(j.AssetProvider,{assetId:r,children:(0,Z.jsx)(j.AssetProvider.GeneralData,{field:"protocolWithVariant",size:"xs"})}):"BY"===t.original.type?(0,Z.jsxs)(j.AssetProvider,{assetId:r,children:[(0,Z.jsx)(b.kC,{width:["auto","40%"],children:(0,Z.jsx)(j.AssetProvider.GeneralData,{field:"protocols",size:"xs"})}),(0,Z.jsx)(j.AssetProvider.GeneralData,{field:"strategies"})]}):(0,Z.jsxs)(b.Ug,{width:"full",spacing:[10,0],children:[(0,Z.jsx)(b.kC,{width:["auto","40%"],children:(0,Z.jsx)(g.AssetLabel,{assetId:r,textStyle:"tableCell",fontSize:"md"})}),(0,Z.jsx)(f.StrategyTag,{strategy:t.original.strategy})]})}},{accessor:"tvlUsd",Header:T("defi.tvl"),Cell:function(e){var r=e.value;return(0,Z.jsx)(A.N2,{noOfLines:2,isLoaded:!!r,children:(0,Z.jsx)(c.Amount.Usd,{value:r,textStyle:"tableCell"})})},sortType:y._O},{accessor:"apyRange",Header:T("defi.apy"),Cell:function(e){var r=e.value,t=e.row;return"AA"===t.original.type||"BB"===t.original.type?(0,Z.jsx)(j.AssetProvider,{assetId:t.original.id,children:(0,Z.jsxs)(b.Ug,{spacing:1,children:[(0,Z.jsx)(j.AssetProvider.SeniorApy,{color:u.A.AA.color,textStyle:"tableCell"}),(0,Z.jsx)(b.xv,{children:"-"}),(0,Z.jsx)(j.AssetProvider.JuniorApy,{color:u.A.BB.color,textStyle:"tableCell"})]})}):"BY"===t.original.type?(0,Z.jsx)(j.AssetProvider,{assetId:t.original.id,children:(0,Z.jsx)(j.AssetProvider.Apy,{showTooltip:!1,textStyle:"tableCell"})}):(0,Z.jsx)(b.Ug,{spacing:1,children:1===t.original.subRows.length&&"best"===t.original.strategy?(0,Z.jsx)(c.Amount.Percentage,{value:(null===r||void 0===r?void 0:r.maxApy)||null,textStyle:"tableCell"}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(c.Amount.Percentage,{value:(null===r||void 0===r?void 0:r.minApy)||null,textStyle:"tableCell"}),(0,Z.jsx)(b.xv,{children:"-"}),(0,Z.jsx)(c.Amount.Percentage,{value:(null===r||void 0===r?void 0:r.maxApy)||null,textStyle:"tableCell"})]})})}}]}),[T]),z=(0,p.useMemo)((function(){return Object.values(B)}),[B]);return(0,Z.jsxs)(b.gC,{mt:14,spacing:10,width:"full",alignItems:"flex-start",children:[(0,Z.jsx)(h.Translation,{translation:"defi.chooseAsset",component:b.xv,textStyle:"heading",fontSize:"xl"}),(0,Z.jsx)(s.Card,{children:(0,Z.jsx)(x.ReactTable,{data:z,columns:L,initialState:{sortBy:[{id:"tvlUsd",desc:!1}]},onRowClick:function(e){return k(e.original.id)}})})]})}},96957:function(e,r,t){t.r(r),t.d(r,{StrategyTag:function(){return d}});var n=t(1413),a=t(45987),i=t(94586),l=t(15542),s=t(45263),o=["strategy"],d=function(e){var r=e.strategy,t=(0,a.Z)(e,o);return(0,s.jsx)(l.Translation,(0,n.Z)({component:i.Vp,translation:"strategies.".concat(r,".label"),bg:"tags.".concat(r),fontWeight:600,color:"primary",px:4,py:"5px"},t))}}}]);