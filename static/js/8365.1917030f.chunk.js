"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[8365,1128,6624,8951],{1128:function(e,t,n){n.r(t),n.d(t,{InputAmount:function(){return c}});var i=n(7276),a=n(20910),r=n(3498),l=n(3497),o=n(86059),s=n(1669),u=n(75712),d=n(45263),c=function(e){var t=e.inputHeight,n=e.amount,c=e.amountUsd,m=e.setAmount,v=e.isDisabled,p=void 0!==v&&v,f=(0,u.useAssetProvider)(),g=f.asset,x=f.underlyingAsset,h=(0,s.w)().selectors,y=h.selectAssetPriceUsd,S=h.selectVaultPrice,A=(0,i.useMemo)((function(){if(c)return(0,a.gA)(c);if(y&&S&&x&&g){var e=y(x.id),t=S(g.id);return"underlying"===g.type?parseFloat((0,a.gA)(n).times(e).toString())||0:parseFloat((0,a.gA)(n).times(e).times(t).toString())||0}}),[g,x,n,c,S,y]);return(0,d.jsxs)(r.Ug,{width:"100%",justifyContent:"space-between",children:[(0,d.jsx)(l.II,{height:t,flex:1,type:"number",placeholder:"0",variant:"balance",value:(0,a.gA)(n).toString(),onChange:function(e){var t=e.target.value;m(Math.max(0,parseFloat(t)).toString())},disabled:p}),null!==c&&(0,d.jsx)(o.Amount.Usd,{abbreviateThresold:1e4,textStyle:"captionSmall",color:"brightGreen",prefix:"\u2248 $",value:(0,a.d5)(A).toString()})]})}},66624:function(e,t,n){n.r(t),n.d(t,{DynamicActionFields:function(){return w}});var i=n(93433),a=n(1413),r=n(45987),l=n(5128),o=n(7276),s=n(43098),u=n(79681),d=n(87099),c=n(12056),m=n(86059),v=n(60062),p=n(29564),f=n(15542),g=n(1669),x=n(6940),h=n(3498),y=n(70820),S=n(20910),A=n(45263),b=["assetId","field","amount","amountUsd","stakingPower"],Z=function(e){var t,n,i,d,c=e.assetId,Z=e.field,w=e.amount,j=e.amountUsd,k=e.stakingPower,I=(0,r.Z)(e,b),M=(0,u.qM)(),E=(0,p.R)().locale,C=(0,g.w)(),D=C.stakingData,B=C.helpers.vaultFunctionsHelper,F=C.selectors,T=F.selectAssetById,N=F.selectVaultById,U=F.selectVaultGauge,_=(0,o.useMemo)((function(){return c&&T&&T(c)}),[c,T]),G=(0,o.useMemo)((function(){return _&&T&&T(_.underlyingId)}),[_,T]),P=(0,o.useMemo)((function(){return c&&N&&N(c)}),[c,N]),L=(0,o.useMemo)((function(){return c&&U&&U(c)}),[c,U]),z=(0,o.useMemo)((function(){return L&&T&&T(L.id)}),[L,T]),R=(0,o.useMemo)((function(){return(0,S.gA)(_.tvl).plus((0,S.d5)(w))}),[_,w]),V=(0,o.useMemo)((function(){return null===B||void 0===B?void 0:B.getVaultNewApr(_,P,(0,S.gA)(w))}),[_,P,w,B]),W=(0,o.useMemo)((function(){if((0,S.d5)(V).gt(0)){var e=(0,S.Bs)((0,S.d5)(V).div(100)).times(100),t=_.apyBreakdown?Object.keys(_.apyBreakdown||{}).filter((function(e){return"base"!==e})).reduce((function(e,t){switch(t){case"gauge":var n=null===z||void 0===z?void 0:z.gaugeData;if(n){var i=(0,S.d5)(null===n||void 0===n?void 0:n.totalSupply).plus((0,S.d5)(w)),a=(0,S.d5)(null===n||void 0===n?void 0:n.totalSupply).div(i),r=_.apyBreakdown[t].times(a);return e.plus(r)}return e.plus(_.apyBreakdown[t]);case"harvest":var l=(0,S.gA)(_.tvl).div(R),o=_.aprBreakdown[t].times(l);return e.plus((0,S.Bs)((0,S.gA)(o).div(100)).times(100));case"rewards":var s=(0,S.gA)(_.tvl).div(R),u=_.aprBreakdown[t].times(s);return e.plus((0,S.Bs)((0,S.gA)(u).div(100)).times(100));default:return e.plus(_.apyBreakdown[t])}}),(0,S.gA)(0)):(0,S.gA)(0);return(0,S.gA)(e).plus(t)}return(0,S.d5)(null===_||void 0===_?void 0:_.apy)}),[_,w,R,z,V]),O=(0,o.useMemo)((function(){return(0,S.d5)(j).gt(0)}),[j]),$=(0,o.useMemo)((function(){var e;return(0,S.d5)(null===_||void 0===_||null===(e=_.vaultPosition)||void 0===e?void 0:e.underlying.redeemable)}),[_]),H=(0,o.useMemo)((function(){var e;return(0,S.d5)(null===_||void 0===_||null===(e=_.vaultPosition)||void 0===e?void 0:e.usd.redeemable)}),[_]),q=(0,o.useMemo)((function(){var e,t;return"flags"in P&&(0,S.d5)(null===(e=P.flags)||void 0===e?void 0:e.withdrawFee).gt(0)?H.times(null===(t=P.flags)||void 0===t?void 0:t.withdrawFee):(0,S.gA)(0)}),[P,H]),Y=(0,o.useMemo)((function(){var e;return l.Z.maximum(0,(0,S.d5)(null===_||void 0===_||null===(e=_.vaultPosition)||void 0===e?void 0:e.usd.earnings).minus(q))}),[q,_]),J=(0,o.useMemo)((function(){return l.Z.minimum(1,(0,S.d5)(j).div(H))}),[j,H]),X=(0,o.useMemo)((function(){return l.Z.minimum(Y,J.times(Y))}),[Y,J]),K=(0,o.useMemo)((function(){var e;return l.Z.maximum(0,(0,S.d5)(null===_||void 0===_||null===(e=_.vaultPosition)||void 0===e?void 0:e.usd.earnings).times(null===_||void 0===_?void 0:_.fee))}),[_]),Q=(0,o.useMemo)((function(){return l.Z.minimum(K,(0,S.d5)(X).times(null===_||void 0===_?void 0:_.fee))}),[K,X,_]);P instanceof v.C&&(Y=Y.plus(Q),X=X.plus(Q));var ee=O&&(0,S.d5)(w).lte($),te="cta",ne="",ie=null;switch(Z){case"boost":var ae=W&&null!==_&&void 0!==_&&null!==(t=_.baseApr)&&void 0!==t&&t.gt(0)?W.div(null===_||void 0===_?void 0:_.baseApr):(0,S.gA)(0);ie=(0,A.jsxs)(h.xv,(0,a.Z)((0,a.Z)({},I),{},{textStyle:"titleSmall",color:"primary",children:[ae.gt(9999)?">9999":ae.toFixed(2),"x"]}));break;case"epochEnd":ie=(0,A.jsx)(h.xv,(0,a.Z)((0,a.Z)({},I),{},{textStyle:"titleSmall",color:"primary",children:(0,S.Jb)((null===_||void 0===_||null===(n=_.epochData)||void 0===n?void 0:n.end)||0,E)}));break;case"epochStart":ie=(0,A.jsx)(h.xv,(0,a.Z)((0,a.Z)({},I),{},{textStyle:"titleSmall",color:"primary",children:(0,S.Jb)((null===_||void 0===_||null===(i=_.epochData)||void 0===i?void 0:i.start)||0,E)}));break;case"riskThreshold":ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({abbreviate:!1,decimals:0,textStyle:"titleSmall",color:"primary"},I),{},{value:null===_||void 0===_?void 0:_.epochData.riskThreshold}));break;case"overperformance":var re=(0,S.d5)(j).times((0,S.gA)(null===_||void 0===_?void 0:_.baseApr).div(100)),le=(0,S.d5)(j).times((0,S.gA)(null===_||void 0===_?void 0:_.apy).div(100)),oe=O?le.minus(re):null;ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},I),{},{value:oe,suffix:"/year"}));break;case"newApy":ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},I),{},{value:W}));break;case"totalGain":ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({decimals:X.lt(1)?4:2,textStyle:"titleSmall",color:"primary"},I),{},{value:ee?X:null}));break;case"fee":ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({decimals:Q.lt(1)?4:2,textStyle:"titleSmall",color:"primary"},I),{},{value:ee?-Q:null}));break;case"withdrawFee":(0,S.d5)(null===(d=P.flags)||void 0===d?void 0:d.withdrawFee).gt(0)&&(te="orange",ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({decimals:q.lt(1)?4:2,textStyle:"titleSmall",color:"orange"},I),{},{value:ee?-q:null})));break;case"depositLimit":te="orange";var se=l.Z.maximum(0,(0,S.d5)(_.limit).minus(_.totalTvl).minus((0,S.d5)(w)));ie=(0,A.jsx)(m.Amount,(0,a.Z)((0,a.Z)({suffix:" ".concat(G.token),decimals:2,textStyle:"titleSmall",color:te},I),{},{value:se}));break;case"netGain":var ue=l.Z.minimum(Y.minus(Q),(0,S.d5)(X).minus(Q));ie=(0,A.jsx)(m.Amount.Usd,(0,a.Z)((0,a.Z)({decimals:ue.lt(1)?4:2,textStyle:"titleSmall",color:"primary"},I),{},{value:ee?ue:null}));break;case"coverage":var de=T(null===P||void 0===P?void 0:P.vaultConfig.Tranches.BB.address),ce=de.tvl&&R?de.tvl.div(R).times(100):0;ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},I),{},{value:ce}));break;case"stakingPoolShare":if(D){var me=(0,S.d5)(w).div(D.stkIDLE.totalSupply.plus((0,S.d5)(w))).times(100);ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},I),{},{value:me}))}break;case"stkIDLE":case"stkIDLEAfterIncrease":ie=(0,A.jsx)(m.Amount,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary",suffix:" stkIDLE"},I),{},{value:w}));break;case"currentFeeDiscount":var ve=(0,S.d5)(null===D||void 0===D?void 0:D.feeDiscount);ne=ve.lte(0)?"orange":"brightGreen",ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({color:ne,textStyle:"titleSmall"},I),{},{value:ve}));break;case"feeDiscount":var pe=(0,S.SL)(w);ne=pe.lte(0)?"orange":"brightGreen",ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({color:ne,textStyle:"titleSmall"},I),{},{value:pe}));break;case"feeDiscountTier":ie=(0,A.jsx)(m.Amount,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},I),{},{value:1}));break;case"stakingApy":if(D){var fe=(0,S.d5)(k).times(D.maxApr);ie=(0,A.jsx)(m.Amount.Percentage,(0,a.Z)((0,a.Z)({textStyle:"titleSmall",color:"primary"},I),{},{value:fe}))}break;default:ie=null}var ge=(0,o.useMemo)((function(){return"dynamicActionFields.tooltips.".concat(Z)}),[Z]),xe=(0,o.useMemo)((function(){var e;return M(ge,{underlying:null===_||void 0===_||null===(e=_.epochData)||void 0===e?void 0:e.underlyingToken})}),[_,ge,M]),he=(0,o.useMemo)((function(){return xe!==ge}),[xe,ge]);return ie?(0,A.jsxs)(h.Ug,{pb:2,px:4,width:"100%",alignItems:"center",borderBottom:"1px solid",borderBottomColor:"divider",justifyContent:"space-between",children:[(0,A.jsxs)(h.Ug,{spacing:2,alignItems:"center",children:[(0,A.jsx)(y.u,{hasArrow:!0,placement:"top",label:xe,isDisabled:!he,children:(0,A.jsx)(x.TooltipContent,{children:(0,A.jsx)(f.Translation,{component:h.xv,color:te,textStyle:"captionSmall",translation:"dynamicActionFields.".concat(Z),borderBottomColor:he?"cta":"none",borderBottom:he?"1px dashed":"none"})})}),["feeDiscount","currentFeeDiscount"].includes(Z)&&(0,A.jsx)(s.nfF,{size:16,color:"orange"})]}),ie]}):null},w=function(e){var t=(0,g.w)(),n=t.stakingData,r=t.selectors,l=r.selectAssetById,s=r.selectVaultById,u=e.assetId,m=e.action,v=(0,o.useMemo)((function(){return u&&l&&l(u)}),[u,l]),p=(0,o.useMemo)((function(){return u&&s&&s(u)}),[u,s]),f=(0,o.useMemo)((function(){return(null===p||void 0===p?void 0:p.type)&&c.A[p.type]}),[p]),x=(0,o.useMemo)((function(){return(0,S.d5)(null===v||void 0===v?void 0:v.limit).lt(d.jq)?(0,S.d5)(null===v||void 0===v?void 0:v.limit):(0,S.gA)(0)}),[v]),y=(0,o.useMemo)((function(){return!!x.gt(0)&&(0,S.gA)(null===v||void 0===v?void 0:v.totalTvl).gte(x)}),[v,x]),b=(0,o.useMemo)((function(){var e,t,a;if(null===f||void 0===f||null===(e=f.dynamicActionFields)||void 0===e||!e[m])return null;var r=null===f||void 0===f?void 0:f.dynamicActionFields[m];"deposit"===m&&null!==v&&void 0!==v&&v.epochData&&((0,S.qF)(v.epochData.start).isBefore(Date.now())?r=["riskThreshold","epochEnd"].concat((0,i.Z)(r)):(0,S.qF)(v.epochData.start).isAfter(Date.now())&&(r=["riskThreshold","epochStart"].concat((0,i.Z)(r))));var l=p&&"flags"in p&&(null===(t=p.flags)||void 0===t?void 0:t.showLimitCap),o=p&&"flags"in p&&(null===(a=p.flags)||void 0===a?void 0:a.feeDiscountEnabled)&&(0,S.d5)(null===n||void 0===n?void 0:n.feeDiscount).gt(0);return l&&"deposit"===m&&x.gt(0)&&!y&&(r=["depositLimit"].concat((0,i.Z)(r))),o&&"deposit"===m&&-1===r.indexOf("currentFeeDiscount")&&(r=[].concat((0,i.Z)(r),["currentFeeDiscount"])),r}),[m,p,v,f,y,n,x]);return b?(0,A.jsx)(h.gC,{spacing:2,width:"full",children:b.map((function(t){return(0,A.jsx)(Z,(0,a.Z)((0,a.Z)({},e),{},{field:t}),"field_".concat(t))}))}):null}},78951:function(e,t,n){n.r(t),n.d(t,{EstimatedGasFees:function(){return v}});var i=n(7276),a=n(87099),r=n(86059),l=n(96699),o=n(3498),s=n(55967),u=n(82172),d=n(15542),c=n(23023),m=n(45263),v=function(){var e=(0,l.Fg)(),t=(0,u.Y)().chainToken,n=(0,c.R)().state,v=n.transactionSpeed,p=n.estimatedFees,f=n.estimatedFeesUsd,g=(0,i.useMemo)((function(){return p?p[v]:null}),[p,v]),x=(0,i.useMemo)((function(){return f?f[v]:null}),[f,v]);return(0,m.jsxs)(o.Ug,{spacing:1,width:"100%",alignItems:"center",children:[(0,m.jsx)(s.Qpb,{color:e.colors.ctaDisabled,size:24}),(0,m.jsx)(d.Translation,{translation:"trade.estimatedGasFee",suffix:":",textStyle:"captionSmaller"}),(0,m.jsx)(r.Amount.Usd,{textStyle:"captionSmaller",fontWeight:"600",color:"primary",prefix:a.EI,value:x}),x&&(0,m.jsx)(r.Amount,{textStyle:"captionSmaller",fontWeight:"600",color:"primary",prefix:"(",suffix:"".concat(null===t||void 0===t?void 0:t.symbol,")"),value:g,decimals:4})]})}},98365:function(e,t,n){n.r(t),n.d(t,{Withdraw:function(){return C}});var i=n(74165),a=n(15861),r=n(29439),l=n(5128),o=n(54447),s=n(86059),u=n(93429),d=n(82172),c=n(20910),m=n(61617),v=n(15542),p=n(1128),f=n(85267),g=n(1669),x=n(7276),h=n(23023),y=n(4710),S=n(78951),A=n(66624),b=n(86393),Z=n(75712),w=n(43127),j=n(52486),k=n(3498),I=n(2092),M=n(73131),E=n(45263),C=function(e){var t=e.itemIndex,n=(0,x.useState)("0"),C=(0,r.Z)(n,2),D=C[0],B=C[1],F=(0,x.useState)(""),T=(0,r.Z)(F,2),N=T[0],U=T[1],_=(0,x.useState)(0),G=(0,r.Z)(_,2),P=G[0],L=G[1],z=(0,x.useState)(!1),R=(0,r.Z)(z,2),V=R[0],W=R[1],O=(0,x.useState)(null),$=(0,r.Z)(O,2),H=$[0],q=$[1],Y=(0,x.useState)(!1),J=(0,r.Z)(Y,2),X=J[0],K=J[1],Q=(0,d.Y)().account,ee=(0,f.m)().searchParams,te=(0,y.useOperativeComponent)(),ne=te.dispatch,ie=te.activeItem,ae=te.activeStep,re=(0,Z.useAssetProvider)(),le=re.asset,oe=re.vault,se=re.underlyingAsset,ue=re.translate,de=(0,h.R)(),ce=de.sendTransaction,me=de.setGasLimit,ve=de.state.transaction,pe=(0,g.w)().selectors,fe=pe.selectAssetPriceUsd,ge=pe.selectVaultPrice,xe=pe.selectAssetBalance,he=pe.selectVaultGauge,ye=pe.selectAssetById,Se=(0,x.useMemo)((function(){return ee}),[ee]),Ae=(0,r.Z)(Se,2)[1],be=(0,x.useCallback)((function(){return K((function(e){return!e}))}),[K]),Ze=(0,x.useMemo)((function(){return xe?xe(null===oe||void 0===oe?void 0:oe.id):(0,c.gA)(0)}),[xe,null===oe||void 0===oe?void 0:oe.id]),we=(0,x.useMemo)((function(){return(null===le||void 0===le?void 0:le.id)&&he&&he(le.id)}),[he,null===le||void 0===le?void 0:le.id]),je=(0,x.useMemo)((function(){return we&&ye&&ye(we.id)}),[ye,we]),ke=(0,x.useMemo)((function(){var e,t;return oe&&"getWithdrawInterestBearingContractSendMethod"in oe&&"paused"===(null===le||void 0===le?void 0:le.status)&&(!("flags"in oe)||void 0===(null===oe||void 0===oe||null===(e=oe.flags)||void 0===e?void 0:e.redeemInterestBearingEnabled)||!(null===oe||void 0===oe||null===(t=oe.flags)||void 0===t||!t.redeemInterestBearingEnabled))}),[oe,le]),Ie=(0,x.useMemo)((function(){return ke&&X?"getWithdrawInterestBearing":"getWithdraw"}),[ke,X]),Me=(0,x.useMemo)((function(){return"".concat(Ie,"Params")}),[Ie]),Ee=(0,x.useMemo)((function(){return"".concat(Ie,"ContractSendMethod")}),[Ie]),Ce=(0,x.useMemo)((function(){if(!xe)return(0,c.gA)(0);var e=xe(null===oe||void 0===oe?void 0:oe.id),t=ge(null===oe||void 0===oe?void 0:oe.id);return e.times(t)}),[xe,ge,null===oe||void 0===oe?void 0:oe.id]),De=(0,x.useCallback)((function(){Ce&&B(Ce.toString())}),[Ce]);(0,x.useEffect)((function(){ke&&X?(De(),W(!0)):W(!1)}),[De,W,ke,X]);var Be=(0,x.useMemo)((function(){return U(""),!(!(0,c.gA)(D).isNaN()&&!(0,c.gA)(D).lte(0))||((0,c.gA)(D).gt(Ce)?(U(ue("trade.errors.insufficientFundsForAmount",{symbol:null===se||void 0===se?void 0:se.name})),!0):"started"===ve.status)}),[D,ve,Ce,se,ue]),Fe=(0,x.useCallback)((function(){Q&&!Be&&oe&&Ee in oe&&Me in oe&&(0,a.Z)((0,i.Z)().mark((function e(){var t,n,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ge(oe.id),n=l.Z.minimum(Ze,(0,c.gA)(D).div(t)),a=oe[Me](n),r=oe[Ee](a),ce(oe.id,oe.id,r);case 5:case"end":return e.stop()}}),e)})))()}),[Q,Be,D,oe,Ze,ge,ce,Me,Ee]);(0,x.useEffect)((function(){ae===t&&"success"===ve.status&&B("")}),[ve.status,ae,t]),(0,x.useEffect)((function(){if(fe&&ge&&se&&oe){var e=fe(se.id),t=parseFloat((0,c.gA)(D).times(e).toString())||0;L(t)}}),[se,oe,D,ge,fe,ne]);var Te=(0,x.useCallback)((0,a.Z)((0,i.Z)().mark((function e(){var t,n,a,r,o,s,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe&&Ee in oe&&Me in oe){e.next=2;break}return e.abrupt("return");case 2:if(t="getMethodDefaultGasLimit"in oe?oe.getMethodDefaultGasLimit("withdraw"):0,Q&&!Ze.lte(0)){e.next=5;break}return e.abrupt("return",t);case 5:return n=ge(null===oe||void 0===oe?void 0:oe.id),a={from:null===Q||void 0===Q?void 0:Q.address},r=(0,c.d5)(D).gt(0)?l.Z.minimum(Ze,(0,c.gA)(D).div(n)):Ze,o=oe[Me](r.toFixed()),s=oe[Ee](o),e.next=12,(0,c.$K)(s,a);case 12:if(e.t0=e.sent,e.t0){e.next=15;break}e.t0=t;case 15:return u=e.t0,e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)}))),[Q,D,Ze,oe,ge,Me,Ee]);(0,x.useEffect)((function(){q(null),ie===t&&(0,a.Z)((0,i.Z)().mark((function e(){var t,n,a,r,l,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te();case 3:t=e.sent,me(t),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.message?e.t0.message.toString().split("\n")[0]:"",a=(0,c.en)(e.t0),l=ue("trade.actions.withdraw.messages.decoded.".concat(r=a||n)),o=l!=="trade.actions.withdraw.messages.decoded.".concat(r)?l:r,q(o);case 15:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[ie,D,ue,t,Te,me,q]),(0,x.useEffect)((function(){ie===t&&(ne({type:"SET_ASSET",payload:le}),ge&&oe&&(ne({type:"SET_AMOUNT",payload:(0,c.gA)(D).toString()}),ne({type:"SET_DEFAULT_AMOUNT",payload:(0,c.gA)(D).toString()})))}),[oe,le,D,ge,ie,t,ne,Fe]);var Ne=(0,x.useMemo)((function(){return Q?(0,E.jsx)(v.Translation,{component:w.zx,translation:X?"common.withdrawInterestBearing":"common.withdraw",disabled:Be,onClick:Fe,variant:"ctaFull",children:"started"===ve.status&&(0,E.jsx)(j.$,{size:"sm"})}):(0,E.jsx)(b.ConnectWalletButton,{variant:"ctaFull"})}),[Q,Be,ve,Fe,X]),Ue=(0,x.useMemo)((function(){return oe&&"messages"in oe?oe.messages:void 0}),[oe]),_e=(0,x.useMemo)((function(){return!ke||Ze.lte(0)?null:(0,E.jsx)(o.Card.Dark,{px:2,py:3,border:0,children:(0,E.jsxs)(k.gC,{spacing:2,width:"full",justifyContent:"center",children:[(0,E.jsx)(I.Ee,{src:"images/vaults/deprecated.png",width:6,height:6}),(0,E.jsx)(v.Translation,{textAlign:"center",textStyle:"captionSmaller",translation:"trade.actions.redeemInterestBearing.description"}),(0,E.jsx)(v.Translation,{component:M.XZ,size:"md",sx:{">span":{fontSize:"sm"}},translation:"trade.actions.redeemInterestBearing.label",isChecked:X,onChange:function(){return be()}})]})})}),[Ze,X,be,ke]),Ge=(0,x.useMemo)((function(){return null!==le&&void 0!==le&&le.interestBearingTokens&&null!==le&&void 0!==le&&le.vaultPosition&&oe&&oe instanceof u.H?(0,E.jsxs)(k.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:[(0,E.jsx)(v.Translation,{mb:1,component:k.xv,translation:"dynamicActionFields.stkIDLE",suffix:":",textStyle:"titleSmall"}),Object.keys(null===le||void 0===le?void 0:le.interestBearingTokens).map((function(e){var t,n,i=ye(e)||oe.tokenConfig.protocols.find((function(t){return t.address===e})),a=(0,c.d5)(null===le||void 0===le||null===(t=le.interestBearingTokens)||void 0===t?void 0:t[e]).times((0,c.d5)(null===le||void 0===le||null===(n=le.vaultPosition)||void 0===n?void 0:n.poolShare));return(0,E.jsxs)(k.Ug,{pb:2,px:4,width:"100%",alignItems:"center",borderBottom:"1px solid",borderBottomColor:"divider",justifyContent:"space-between",children:[(0,E.jsx)(k.xv,{textStyle:"captionSmall",children:null===i||void 0===i?void 0:i.token}),(0,E.jsx)(s.Amount,{value:a,textStyle:"titleSmall",color:"primary"})]},"assetField_".concat(e))}))]}):null}),[le,oe,ye]);return(0,E.jsx)(Z.AssetProvider,{flex:1,width:"100%",assetId:null===le||void 0===le?void 0:le.id,children:(0,E.jsxs)(k.gC,{pt:8,flex:1,spacing:6,width:"100%",height:"100%",id:"withdraw-container",alignItems:"space-between",justifyContent:"flex-start",children:[(0,E.jsxs)(k.gC,{flex:1,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,E.jsxs)(k.Ug,{width:"100%",spacing:[3,4],alignItems:"flex-start",children:[(0,E.jsx)(k.xu,{pt:8,children:(0,E.jsx)(m.AssetLabel,{assetId:null===le||void 0===le?void 0:le.id})}),(0,E.jsxs)(k.gC,{spacing:1,width:"100%",alignItems:"flex-start",children:[(0,E.jsx)(o.Card,{px:4,py:2,layerStyle:"cardLight",children:(0,E.jsxs)(k.gC,{spacing:2,alignItems:"flex-start",children:[(0,E.jsx)(p.InputAmount,{amount:D,amountUsd:P,setAmount:B,isDisabled:V}),(0,E.jsxs)(k.Ug,{width:"100%",justifyContent:"space-between",children:[(0,E.jsxs)(k.Ug,{spacing:1,children:[(0,E.jsx)(v.Translation,{component:k.xv,translation:"common.balance",textStyle:"captionSmaller"}),(0,E.jsx)(Z.AssetProvider.VaultBalance,{abbreviate:!0,decimals:4,textStyle:"captionSmaller",color:"primary"})]}),(0,E.jsx)(w.zx,{variant:"selector",onClick:De,children:"MAX"})]})]})}),N&&(0,E.jsx)(k.xv,{textStyle:"captionSmaller",color:"orange",children:N})]})]}),H?(0,E.jsx)(o.Card.Dark,{p:2,border:0,children:(0,E.jsx)(v.Translation,{textStyle:"captionSmaller",translation:"trade.actions.withdraw.messages.gasEstimateError",params:{supportLink:'<a href="https://discord.com/channels/606071749657755668/606073687799627776">Discord channel</a>',error:H},isHtml:!0,textAlign:"center"})}):Ce.gt(0)&&null!==Ue&&void 0!==Ue&&Ue.withdraw?(0,E.jsx)(o.Card.Dark,{p:2,border:0,children:(0,E.jsx)(v.Translation,{textStyle:"captionSmaller",translation:Ue.withdraw,isHtml:!0,textAlign:"center"})}):(0,c.gA)(null===je||void 0===je?void 0:je.balance).gt(0)&&(0,E.jsx)(o.Card.Dark,{py:2,pl:3,pr:2,border:0,children:(0,E.jsxs)(k.Ug,{spacing:3,width:"full",children:[(0,E.jsx)(v.Translation,{textStyle:"captionSmaller",translation:"trade.actions.withdraw.messages.unstakeFromGauge",textAlign:"left"}),(0,E.jsx)(v.Translation,{component:w.zx,translation:"common.unstake",fontSize:"xs",height:"auto",width:"auto",py:3,px:7,onClick:function(){return Ae("?tab=gauge")}})]})}),ke&&X?Ge:(0,E.jsx)(A.DynamicActionFields,{assetId:null===le||void 0===le?void 0:le.id,action:"withdraw",amount:D,amountUsd:P})]}),(0,E.jsxs)(k.gC,{spacing:4,id:"footer",alignItems:"flex-start",children:[_e,(0,E.jsx)(S.EstimatedGasFees,{}),Ne]})]})})}},3497:function(e,t,n){n.d(t,{BZ:function(){return k},II:function(){return A},xH:function(){return N}});var i=n(4942),a=n(29439),r=n(1413),l=n(45987),o=n(7276),s=n(61844),u=n(96699),d=n(7828),c=n(29690),m=n(2548),v=n(3142),p=n(64042),f=["htmlSize"],g=["children","className"],x=["placement"],h=["placement"],y=["className"],S=["className"],A=(0,u.Gp)((function(e,t){var n=e.htmlSize,i=(0,l.Z)(e,f),a=(0,u.jC)("Input",i),m=(0,d.Lr)(i),v=(0,s.Yp)(m),p=(0,c.cx)("chakra-input",e.className);return o.createElement(u.m$.input,(0,r.Z)((0,r.Z)({size:n},v),{},{__css:a.field,ref:t,className:p}))}));A.displayName="Input",A.id="Input";var b=(0,m.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),Z=(0,a.Z)(b,2),w=Z[0],j=Z[1],k=(0,u.Gp)((function(e,t){var n=(0,u.jC)("Input",e),i=(0,d.Lr)(e),a=i.children,s=i.className,m=(0,l.Z)(i,g),f=(0,c.cx)("chakra-input__group",s),x={},h=(0,v.W)(a),y=n.field;h.forEach((function(e){if(n){var t,i;if(y&&"InputLeftElement"===e.type.id)x.paddingStart=null!==(t=y.height)&&void 0!==t?t:y.h;if(y&&"InputRightElement"===e.type.id)x.paddingEnd=null!==(i=y.height)&&void 0!==i?i:y.h;"InputRightAddon"===e.type.id&&(x.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(x.borderStartRadius=0)}}));var S=h.map((function(t){var n,i,a=(0,p.oA)({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(i=t.props)?void 0:i.variant)||e.variant});return"Input"!==t.type.id?(0,o.cloneElement)(t,a):(0,o.cloneElement)(t,Object.assign(a,x,t.props))}));return o.createElement(u.m$.div,(0,r.Z)({className:f,ref:t,__css:{width:"100%",display:"flex",position:"relative"}},m),o.createElement(w,{value:n},S))}));k.displayName="InputGroup";var I={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},M=(0,u.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),E=(0,u.Gp)((function(e,t){var n,i=e.placement,a=void 0===i?"left":i,s=(0,l.Z)(e,x),u=null!==(n=I[a])&&void 0!==n?n:{},d=j();return o.createElement(M,(0,r.Z)((0,r.Z)({ref:t},s),{},{__css:(0,r.Z)((0,r.Z)({},d.addon),u)}))}));E.displayName="InputAddon";var C=(0,u.Gp)((function(e,t){return o.createElement(E,(0,r.Z)((0,r.Z)({ref:t,placement:"left"},e),{},{className:(0,c.cx)("chakra-input__left-addon",e.className)}))}));C.displayName="InputLeftAddon",C.id="InputLeftAddon";var D=(0,u.Gp)((function(e,t){return o.createElement(E,(0,r.Z)((0,r.Z)({ref:t,placement:"right"},e),{},{className:(0,c.cx)("chakra-input__right-addon",e.className)}))}));D.displayName="InputRightAddon",D.id="InputRightAddon";var B=(0,u.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),F=(0,u.Gp)((function(e,t){var n,a,s,u=e.placement,d=void 0===u?"left":u,c=(0,l.Z)(e,h),m=j(),v=m.field,p="left"===d?"insetStart":"insetEnd",f=(0,r.Z)((s={},(0,i.Z)(s,p,"0"),(0,i.Z)(s,"width",null!==(n=null==v?void 0:v.height)&&void 0!==n?n:null==v?void 0:v.h),(0,i.Z)(s,"height",null!==(a=null==v?void 0:v.height)&&void 0!==a?a:null==v?void 0:v.h),(0,i.Z)(s,"fontSize",null==v?void 0:v.fontSize),s),m.element);return o.createElement(B,(0,r.Z)({ref:t,__css:f},c))}));F.id="InputElement",F.displayName="InputElement";var T=(0,u.Gp)((function(e,t){var n=e.className,i=(0,l.Z)(e,y),a=(0,c.cx)("chakra-input__left-element",n);return o.createElement(F,(0,r.Z)({ref:t,placement:"left",className:a},i))}));T.id="InputLeftElement",T.displayName="InputLeftElement";var N=(0,u.Gp)((function(e,t){var n=e.className,i=(0,l.Z)(e,S),a=(0,c.cx)("chakra-input__right-element",n);return o.createElement(F,(0,r.Z)({ref:t,placement:"right",className:a},i))}));N.id="InputRightElement",N.displayName="InputRightElement"}}]);