"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[2969,956,1805],{52969:function(e,t,n){n.r(t),n.d(t,{DepositedAssetsTable:function(){return M}});var i=n(93433),r=n(1413),a=n(29439),s=n(54447),o=n(79681),l=n(95173),c=n(86059),d=n(76728),u=n(66288),f=n(75349),p=n(39195),x=n(56292),h=n(30572),g=n(10956),v=n(1805),m=n(58194),j=n(15542),C=n(1669),w=n(7276),b=n(12056),y=n(55967),A=n(20910),P=n(3498),k=n(89030),T=n(82137),I=n(43127),D=n(45263),M=function(){var e=(0,l.s0)(),t=(0,C.w)(),n=t.isPortfolioLoaded,M=t.isPortfolioAccountReady,S=t.selectors,F=S.selectVaultsWithBalance,Z=S.selectVaultsAssetsByType,_=S.selectVaultsAssetsWithBalance,z=(0,o.qM)(),U=(0,w.useState)(1),N=(0,a.Z)(U,2),R=N[0],L=N[1],O=(0,u.X)(),H=O.theme,B=O.isMobile,W=(0,p.Y)(),E=W.account,V=W.prevAccount,Y=(0,w.useState)("Available"),q=(0,a.Z)(Y,2),K=q[0],G=q[1],J=(0,h.D)(K);(0,w.useEffect)((function(){if(K!==J)return L(1)}),[K,J,L]);var X=(0,w.useMemo)((function(){return[{width:"25%",accessor:"name",sortType:"alpha",id:"assetWithStatus",stackProps:{justifyContent:"space-between"},extraFields:["productTagWithRisk"]},{width:"18%",accessor:"id",id:"protocols",sortType:"alpha",fieldProps:{size:"xs"}},{id:"tvl",width:"13%",accessor:"tvlUsd",sortType:"numeric"},{id:"apy",width:"13%",accessor:"apy",sortType:"numeric"},{id:"apy7",width:"13%",accessor:"apy7",sortType:"numeric",tables:["Available"]},{id:"apy30",width:"13%",accessor:"apy30",sortType:"numeric",tables:["Available"]},{width:"5%",accessor:"id",id:"chainId",stackProps:{justifyContent:"center"},tables:["Available"]}]}),[]),Q=(0,w.useMemo)((function(){return X.reduce((function(e,t){var n=t.id,i=t.accessor,a=t.sortType,s="alpha"===a?A.YC:"numeric"===a?A._O:void 0;return e[n]={id:n,accessor:i,width:t.width,disableSortBy:!s,defaultCanSort:!!s,Header:z(t.title||"defi.".concat(n)),sortType:s?function(e,t){return s(e,t,i)}:void 0,Cell:function(e){var i=e.value,a=e.row;return t.extraFields&&t.extraFields.length>0?(0,D.jsxs)(P.Kq,(0,r.Z)((0,r.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},t.stackProps),{},{children:[(0,D.jsx)(v.TableField,{field:n,assetId:a.original.id,value:i,props:t.fieldProps}),t.extraFields.map((function(e){return(0,D.jsx)(v.TableField,{assetId:a.original.id,field:e,value:i},"extraField_".concat(e))}))]})):(0,D.jsx)(v.TableField,{field:n,assetId:a.original.id,value:i,props:t.fieldProps})}},e}),{})}),[X,z]),$=(0,w.useMemo)((function(){return X.filter((function(e){return!e.tables||e.tables.includes(K)})).map((function(e){var t=e.id,n=e.accessor,i=e.sortType,a="alpha"===i?A.YC:"numeric"===i?A._O:void 0;return{id:t,accessor:n,width:e.width,disableSortBy:!a,defaultCanSort:!!a,Header:z(e.title||"defi.".concat(t)),sortType:a?function(e,t){return a(e,t,n)}:void 0,Cell:function(n){var i=n.value,a=n.row;return e.extraFields&&e.extraFields.length>0?(0,D.jsxs)(P.Kq,(0,r.Z)((0,r.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,D.jsx)(v.TableField,{field:t,value:i,assetId:a.original.id,props:e.fieldProps}),e.extraFields.map((function(e){return(0,D.jsx)(v.TableField,{field:e,value:i,assetId:a.original.id},"extraField_".concat(e))}))]})):(0,D.jsx)(v.TableField,{field:t,value:i,assetId:a.original.id,props:e.fieldProps})}}}))}),[X,K,z]),ee=(0,w.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,i.Z)($))}),[$]),te=(0,w.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,i.Z)($),[{width:"13%",accessor:"balanceUsd",Header:z("defi.balance"),Cell:function(e){var t=e.value;return(0,D.jsx)(k.N2,{noOfLines:2,isLoaded:!!t,children:(0,D.jsx)(c.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:A._O},{width:"13%",accessor:"vaultPosition",Header:z("defi.realizedApy"),Cell:function(e){var t=e.value,n=e.row;return(0,D.jsx)(k.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,D.jsxs)(T.kN,{children:[(0,D.jsx)(T.Jf,{children:(0,D.jsxs)(P.kC,{direction:"row",alignItems:"center",children:[!t.realizedApy.isNaN()&&(0,D.jsx)(T.uY,{type:"increase"}),(0,D.jsx)(v.TableField,{field:"realizedApy",value:t,assetId:n.original.id})]})}),(0,D.jsx)(c.Amount.Usd,{prefix:"+",value:t.usd.earnings,textStyle:"captionSmall"})]})})},sortType:function(e,t){return(0,A._O)(e,t,"vaultPosition.earningsPercentage")}},Q.chainId])}),[z,$,Q]),ne=(0,w.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,i.Z)($),[{width:"13%",accessor:"balanceUsd",Header:z("defi.balance"),Cell:function(e){var t=e.value;return(0,D.jsx)(k.N2,{noOfLines:2,isLoaded:!!t,children:(0,D.jsx)(c.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:A._O},{width:"13%",accessor:"vaultPosition",Header:z("defi.discountedFees"),Cell:function(e){var t=e.value;return(0,D.jsx)(k.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,D.jsx)(c.Amount.Usd,{value:t.usd.discountedFees,textStyle:"tableCell"})})},sortType:A._O},Q.chainId])}),[Q,$,z]),ie=(0,w.useMemo)((function(){return x.R.reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(t.strategies))}),[])}),[]),re=(0,w.useMemo)((function(){return Z?ie.reduce((function(e,t){return[].concat((0,i.Z)(e),(0,i.Z)(Z(t)))}),[]).filter((function(e){return"deprecated"!==e.status})).sort((function(e,t){return(0,A.gA)(e.tvlUsd).lt((0,A.gA)(t.tvlUsd))?1:-1})).slice(0,15).sort((function(e,t){return(0,A.gA)(e.apy).lt((0,A.gA)(t.apy))?1:-1})).slice(0,10):[]}),[Z,ie]),ae=(0,w.useMemo)((function(){return F&&n?ie.reduce((function(e,t){var n=_(t);return n?[].concat((0,i.Z)(e),(0,i.Z)(n)):e}),[]):[]}),[n,F,_,ie]),se=(0,w.useMemo)((function(){return n?ae.filter((function(e){var t;return!(null===(t=e.flags)||void 0===t||!t.feeDiscountEnabled)})):[]}),[ae,n]);(0,w.useEffect)((function(){if(E&&"Available"===K)return G("Deposited")}),[]),(0,w.useEffect)((function(){return E||"Deposited"!==K?!V&&E&&"Available"===K?G("Deposited"):"Deposited"===K&&M&&!ae.length?G("Available"):void 0:G("Available")}),[K,E,V,M,ae]);var oe=(0,w.useCallback)((function(t,n,i){(0,A.fU)(n,i,t.original);var r=b.A[t.original.type].route;return e("/earn/".concat(r,"/").concat(t.original.id))}),[e]),le=(0,w.useMemo)((function(){return 5}),[]),ce=(0,w.useMemo)((function(){switch(K){case"Deposited":return Math.ceil(ae.length/le);case"Discount":return Math.ceil(se.length/le);default:return Math.ceil(re.length/le)}}),[K,re,ae,se,le]),de=(0,w.useCallback)((function(){return!!R&&(L((function(e){return Math.max(1,e-1)})),!0)}),[L,R]),ue=(0,w.useCallback)((function(){if(R===ce)return!1;L((function(e){return Math.min(ce,e+1)}))}),[L,R,ce]),fe=(0,w.useMemo)((function(){if(!ae.length)return null;return B?(0,D.jsx)(P.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,D.jsx)(P.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:ae.map((function(e){return e.id&&(0,D.jsx)(f.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})}):(0,D.jsxs)(P.gC,{spacing:6,width:"full",children:[(0,D.jsxs)(s.Card,{children:[(0,D.jsx)(P.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between"}),(0,D.jsx)(m.ReactTable,{columns:te,data:ae,initialState:{sortBy:[{id:"balanceUsd",desc:!1}]},rowsPerPage:le,page:R,onRowClick:function(e){return oe(e,"dashboard_deposited","Dashboard deposited")}})]}),ce>1&&(0,D.jsx)(g.Pagination,{activePage:R,pages:ce,justifyContent:"center",onPrevArrowClick:function(){R&&de()},onNextArrowClick:function(){R<ce&&ue()},prevArrowColor:1===R?H.colors.ctaDisabled:H.colors.primary,nextArrowColor:R===ce?H.colors.ctaDisabled:H.colors.primary})]})}),[B,te,ae,R,ce,H,le,oe,de,ue]),pe=(0,w.useMemo)((function(){if(!re.length)return null;return B?(0,D.jsx)(P.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,D.jsx)(P.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:re.map((function(e){return e.id&&(0,D.jsx)(f.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})}):(0,D.jsxs)(P.gC,{spacing:6,width:"full",children:[(0,D.jsxs)(s.Card,{children:[(0,D.jsx)(P.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between"}),(0,D.jsx)(m.ReactTable,{columns:ee,data:re,initialState:{sortBy:[{id:"apy",desc:!1}]},rowsPerPage:le,page:R,onRowClick:function(e){return oe(e,"dashboard_deposited","Dashboard deposited")}})]}),ce>1&&(0,D.jsx)(g.Pagination,{activePage:R,pages:ce,justifyContent:"center",onPrevArrowClick:function(){R&&de()},onNextArrowClick:function(){R<ce&&ue()},prevArrowColor:1===R?H.colors.ctaDisabled:H.colors.primary,nextArrowColor:R===ce?H.colors.ctaDisabled:H.colors.primary})]})}),[B,ee,re,R,ce,H,le,oe,de,ue]),xe=(0,w.useMemo)((function(){return B?(0,D.jsx)(P.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:(0,D.jsx)(P.gC,{spacing:2,width:"100%",alignItems:"flex-start"})}):(0,D.jsxs)(P.gC,{spacing:6,width:"full",children:[(0,D.jsx)(s.Card,{children:(0,A.xb)(se)?(0,D.jsxs)(P.gC,{py:10,spacing:6,width:"full",alignItems:"center",justifyContent:"center",children:[(0,D.jsx)(j.Translation,{textAlign:"center",translation:"feeDiscount.table.empty",color:"cta",isHtml:!0}),(0,D.jsx)(j.Translation,{component:I.zx,translation:"common.stake",variant:"ctaPrimary",px:10,onClick:function(){return e((0,A.qC)("stake"))}})]}):(0,D.jsx)(m.ReactTable,{columns:ne,data:se,initialState:{sortBy:[{id:"apy",desc:!1}]},rowsPerPage:le,page:R,onRowClick:function(e){return oe(e,"dashboard_discounted","Dashboard discounted")}})}),ce>1&&(0,D.jsx)(g.Pagination,{activePage:R,pages:ce,justifyContent:"center",onPrevArrowClick:function(){R&&de()},onNextArrowClick:function(){R<ce&&ue()},prevArrowColor:1===R?H.colors.ctaDisabled:H.colors.primary,nextArrowColor:R===ce?H.colors.ctaDisabled:H.colors.primary})]})}),[B,R,ce,H,ne,se,e,le,oe,de,ue]),he=(0,w.useMemo)((function(){switch(K){case"Deposited":return fe;case"Discount":return xe;default:return pe}}),[K,fe,xe,pe]);return n?(0,D.jsxs)(P.gC,{mt:[10,20],spacing:6,width:"full",alignItems:"flex-start",children:[(0,D.jsxs)(P.Ug,{spacing:3,children:[(0,D.jsx)(j.Translation,{component:I.zx,leftIcon:(0,D.jsx)(y.lTP,{size:24}),translation:"common.wallet",variant:"filter","aria-selected":"Deposited"===K,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return G("Deposited")}}),(0,D.jsx)(j.Translation,{component:I.zx,leftIcon:(0,D.jsx)(y.pIY,{size:24}),translation:"common.featured",variant:"filter","aria-selected":"Available"===K,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return G("Available")}}),(0,D.jsx)(j.Translation,{component:I.zx,leftIcon:(0,D.jsx)(d.njj,{size:24}),translation:"common.discount",variant:"filter","aria-selected":"Discount"===K,fontSize:"sm",borderRadius:"80px",px:4,onClick:function(){return G("Discount")}})]}),he]}):null}},10956:function(e,t,n){n.r(t),n.d(t,{Pagination:function(){return d}});var i=n(1413),r=n(45987),a=(n(7276),n(55967)),s=n(3498),o=n(43127),l=n(45263),c=["onPrevArrowClick","onNextArrowClick","prevArrowColor","nextArrowColor","activePage","pages"],d=function(e){var t=e.onPrevArrowClick,n=e.onNextArrowClick,d=e.prevArrowColor,u=e.nextArrowColor,f=e.activePage,p=e.pages,x=(0,r.Z)(e,c);return(0,l.jsx)(s.kC,(0,i.Z)((0,i.Z)({width:"100%",alignItems:"center",justifyContent:"flex-end"},x),{},{children:(0,l.jsxs)(s.Ug,{spacing:2,children:[(0,l.jsx)(o.zx,{variant:"link",minW:"auto",onClick:t,children:(0,l.jsx)(a.lrP,{color:d})}),(0,l.jsxs)(s.xv,{textStyle:"ctaStatic",children:[f,"/",p]}),(0,l.jsx)(o.zx,{variant:"link",minW:"auto",onClick:n,children:(0,l.jsx)(a.KEG,{color:u})})]})}))}},1805:function(e,t,n){n.r(t),n.d(t,{TableField:function(){return o}});var i=n(1413),r=n(89030),a=n(75712),s=n(45263),o=function(e){var t=e.assetId,n=e.field,o=e.value,l=e.section,c=e.props;return(0,s.jsx)(r.N2,{noOfLines:2,isLoaded:!!o,children:(0,s.jsx)(a.AssetProvider,{assetId:t,children:(0,s.jsx)(a.AssetProvider.GeneralData,(0,i.Z)({section:l,field:n},c))})})}}}]);