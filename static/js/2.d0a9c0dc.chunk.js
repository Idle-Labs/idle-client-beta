(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1114:function(t,e,n){"use strict";n.r(e);var s=n(36),a=n(1),i=n.n(a),r=n(6),o=n(11),l=n(12),c=n(15),p=n(14),u=n(18),h=n(0),f=n.n(h),m=n(4735),d=n(163),g=n(4736),b=n(50),v=n(4),x=n(301),y=n(99),O=n(129),w=n(4752),k=n.n(w),j=n(32),E=n(4734),C=function(t){function e(){var t,n;Object(o.a)(this,e);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(i)))).state={maxWidth:.4,minWidth:.18,maxHeight:425,isOpened:!1,activeFilters:{status:null,assets:null,actions:null}},n.setFilter=function(t,e){n.setState(function(n){return{activeFilters:Object(s.a)({},n.activeFilters,Object(y.a)({},t,e))}})},n.applyFilters=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"function"===typeof n.props.applyFilters&&n.props.applyFilters(n.state.activeFilters),t&&n.toggleOpened()},n.resetFilter=function(t){n.setState(function(e){return{activeFilters:Object(s.a)({},e.activeFilters,Object(y.a)({},t,null))}},function(){n.applyFilters(!1)})},n.resetFilters=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.setState({activeFilters:{status:null,assets:null,actions:null}},function(){"function"===typeof n.props.resetFilters&&n.props.resetFilters(),t&&n.toggleOpened()})},n.toggleOpened=function(){n.setState(function(t){return{isOpened:!t.isOpened}})},n}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return f.a.createElement(v.h,{mb:3,top:0,width:1,zIndex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",position:["relative","absolute"]},f.a.createElement(j.default,{cardProps:{py:2,px:3,width:[1,this.state.isOpened?this.state.maxWidth:this.state.minWidth],style:{transition:"width 0.3s ease-in-out"}},isInteractive:!this.state.isOpened,handleClick:this.state.isOpened?null:this.toggleOpened},f.a.createElement(v.h,{width:1,style:{cursor:"pointer"},alignItems:"center",flexDirection:"row",justifyContent:"space-between",onClick:this.state.isOpened?this.toggleOpened:null},f.a.createElement(v.u,{fontSize:2,fontWeight:500,color:"copyColor"},"Filters"),f.a.createElement(v.k,{color:"copyColor",size:this.props.isMobile?"1.3em":"1.5em",name:this.state.isOpened?"Close":"Tune"})),f.a.createElement(v.h,{flexDirection:"column",style:{overflow:"hidden",transition:"max-height 0.3s ease-in-out",maxHeight:this.state.isOpened?this.state.maxHeight:0}},f.a.createElement(v.h,{mt:2,py:2,width:1,flexDirection:"row",borderTop:"1px solid ".concat(O.a.colors.divider)},Object.keys(this.props.filters).map(function(e){var n=t.props.filters[e];return f.a.createElement(v.h,{flexDirection:"column",key:"filter_".concat(e),style:{flexBasis:"0",flex:"1 1 0px"}},f.a.createElement(E.a,{pb:2,fontWeight:3,fontSize:[0,2],color:"cellText"},e.toUpperCase()),Object.keys(n).map(function(s){var a=n[s],i=t.state.activeFilters[e]===s;return f.a.createElement(v.s,{my:2,fontSize:[0,2],label:a,checked:i,className:k.a.radioBtn,key:"filter_".concat(e,"_").concat(s),onChange:function(n){return t.setFilter(e,s)}})}))})),f.a.createElement(v.h,{flexDirection:"row"},f.a.createElement(v.c.Text,{fontWeight:4,fontSize:[2,3],mainColor:"copyColor",onClick:this.applyFilters},"Apply filters"),f.a.createElement(v.c.Text,{ml:3,fontWeight:4,fontSize:[2,3],mainColor:"copyColor",onClick:this.resetFilters},"Reset")))),!this.state.isOpened&&this.props.activeFilters&&Object.values(this.props.activeFilters).filter(function(t){return null!==t}).length>0&&f.a.createElement(v.h,{mt:3,width:1,flexDirection:["column","row"],alignItems:["flex-start","flex-end"],justifyContent:["flex-end","flex-start"]},Object.keys(this.props.activeFilters).map(function(e){var n=t.props.activeFilters[e];if(null!==n){var s=t.props.filters[e][n];return f.a.createElement(j.default,{cardProps:{py:2,px:3,mb:[2,0],mr:[0,3],width:[1,t.state.minWidth]},isInteractive:!0,key:"filter_".concat(e)},f.a.createElement(v.h,{width:1,style:{cursor:"pointer"},alignItems:"center",flexDirection:"row",justifyContent:"space-between",onClick:function(n){return t.resetFilter(e)}},f.a.createElement(v.u,{fontSize:2,fontWeight:500,color:"cellText",style:{textTransform:"capitalize"}},s),f.a.createElement(v.k,{name:"Close",color:"cellText",size:t.props.isMobile?"1.3em":"1.5em"})))}return null}),f.a.createElement(v.n,{mt:[2,0],fontSize:[3,2],fontWeight:[3],color:"dark-gray",hoverColor:"copyColor",textAlign:["center","left"],onClick:function(e){return t.resetFilters(!1)}},"Clear all filters")))}}]),e}(h.Component),F=function(t){function e(){var t,n;Object(o.a)(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(n=Object(c.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(a)))).state={page:1,prevTxs:{},txsPerPage:5,loading:!1,totalTxs:null,totalPages:null,activeFilters:{status:null,assets:null,actions:null},filters:{actions:{deposit:"Deposit",redeem:"Redeem",send:"Send",receive:"Receive",migrate:"Migrate",swap:"Swap-In",swapout:"Swap-Out",withdraw:"Withdraw"},status:{completed:"Completed",pending:"Pending",failed:"Failed"},assets:{}},renderedTxs:null,processedTxs:null,lastBlockNumber:null},n.functionsUtil=null,n.applyFilters=function(t){n.setState({activeFilters:t},function(){n.processTxs()})},n.resetFilters=function(){n.setState({activeFilters:{status:null,assets:null,actions:null}},function(){n.processTxs()})},n.processTxs=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=t||n.state.page;var e=Object.keys(n.state.filters.actions).map(function(t){return t.toLowerCase()}),s=Object.values(n.state.prevTxs).filter(function(t){return!!parseFloat(t.value)}).filter(function(t){return(null===n.state.activeFilters.status||t.status.toLowerCase()===n.state.activeFilters.status.toLowerCase())&&(null===n.state.activeFilters.assets||t.token.toLowerCase()===n.state.activeFilters.assets.toLowerCase())&&e.includes(t.action.toLowerCase())&&(null===n.state.activeFilters.actions||t.action.toLowerCase()===n.state.activeFilters.actions.toLowerCase())}).sort(function(t,e){return t.timeStamp>e.timeStamp?-1:1}),a=s.length,i=Math.ceil(a/n.state.txsPerPage),r=[];s.forEach(function(e,s){var a=e.token,i=n.props.availableTokens[a],o=Math.min(i.decimals,8),l=new Date(1e3*e.timeStamp),c=e.action?e.action:n.functionsUtil.getTxAction(e,i),p=parseFloat(e.tokenAmount),u=p?n.props.isMobile?p.toFixed(4):p.toFixed(o):"-",h=n.functionsUtil.strToMoment(l);e.status=e.status?e.status:"Completed",e.action=c,e.momentDate=h,e.amount=u,s>=(t-1)*n.state.txsPerPage&&s<(t-1)*n.state.txsPerPage+n.state.txsPerPage&&r.push(e)});n.setState({loading:!1,totalTxs:a,totalPages:i,processedTxs:r})},n}return Object(u.a)(e,t),Object(l.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new b.a(this.props)}},{key:"prevPage",value:function(t){t&&t.preventDefault();var e=Math.max(1,this.state.page-1);this.setState({page:e})}},{key:"nextPage",value:function(t){t&&t.preventDefault();var e=Math.min(this.state.totalPages,this.state.page+1);this.processTxs(e),this.setState({page:e})}},{key:"componentDidMount",value:function(){var t=Object(r.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),this.loadTxs();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(r.a)(i.a.mark(function t(e,n){var s,a=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loadUtils(),s=JSON.stringify(e.transactions)!==JSON.stringify(this.props.transactions),!(JSON.stringify(e.enabledTokens)!==JSON.stringify(this.props.enabledTokens))&&!s){t.next=6;break}return this.setState({page:1,prevTxs:{}},function(){a.loadTxs()}),t.abrupt("return",!1);case 6:n.page!==this.state.page&&this.processTxs();case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"loadTxs",value:function(){var t=Object(r.a)(i.a.mark(function t(e){var n,a,r,o,l,c,p,u,h,f=this,m=arguments;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m.length>1&&void 0!==m[1]?m[1]:"latest",this.props.account){t.next=3;break}return t.abrupt("return",!1);case 3:return e=e||0,this.setState({loading:!0}),n=this.functionsUtil.getGlobalConfig(["network","firstBlockNumber"]),a=Object(s.a)({},this.state.prevTxs),r=Math.max(n,this.state.lastBlockNumber),(o=this.props.enabledTokens)&&o.length||(o=Object.keys(this.props.availableTokens)),l=Object(s.a)({},this.state.filters.assets),o.forEach(function(t){l[t]=t}),c=Object(s.a)({},this.state.filters.actions),(p="undefined"!==typeof this.props.enabledActions?this.props.enabledActions:[]).length&&(c={},p.forEach(function(t){c[t.toLowerCase()]=t})),t.next=17,this.functionsUtil.getEtherscanTxs(this.props.account,r,"latest",o);case 17:return(u=t.sent)&&u.length&&u.forEach(function(t){t.hashKey?a[t.hashKey]=t:a["t".concat(t.timeStamp)]=t}),(h=Object.values(a).pop())&&h.blockNumber&&(!this.state.lastBlockNumber||h.blockNumber>this.state.lastBlockNumber)&&(r=parseInt(h.blockNumber)+1),t.abrupt("return",this.setState(function(t){return{prevTxs:a,loading:!1,lastBlockNumber:r,filters:Object(s.a)({},t.filters,{assets:l,actions:c})}},function(){f.processTxs()}));case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=Object.values(this.state.activeFilters).filter(function(t){return null!==t}).length>0,n=this.state.processedTxs?Object.values(this.state.processedTxs):null;return f.a.createElement(v.h,{flexDirection:"column",width:1,m:"0 auto"},this.state.loading?f.a.createElement(d.a,{flexProps:{flexDirection:"row",minHeight:this.props.height},loaderProps:{size:"30px"},textProps:{ml:2},text:"Loading transactions..."}):f.a.createElement(v.h,{width:1,position:"relative",flexDirection:"column",id:"transactions-list-container",pt:[0,e?"116px":5]},f.a.createElement(C,Object.assign({},this.props,{filters:this.state.filters,activeFilters:this.state.activeFilters,resetFilters:this.resetFilters.bind(this),applyFilters:this.applyFilters.bind(this)})),n&&n.length?f.a.createElement(v.h,{width:1,flexDirection:"column"},f.a.createElement(g.a,{cols:this.props.cols,isMobile:this.props.isMobile}),f.a.createElement(v.h,{id:"transactions-list",flexDirection:"column"},n.map(function(e,n){var s=e.hash,a=e.hashKey;return f.a.createElement(m.a,Object.assign({},t.props,{rowProps:{isInteractive:!0},hash:s,transaction:e,key:"tx-".concat(n),handleClick:function(t){return s?window.open("https://etherscan.io/tx/".concat(s)):null},rowId:"tx-col-".concat(a),cardId:"tx-card-".concat(a),fieldComponent:x.a}))})),f.a.createElement(v.h,{height:"50px",alignItems:"center",flexDirection:"row",justifyContent:"flex-end",id:"transactions-list-pagination"},f.a.createElement(v.h,{mr:3},f.a.createElement(v.n,{mr:1,onClick:function(e){return t.prevPage(e)}},f.a.createElement(v.k,{name:"KeyboardArrowLeft",size:"2em",color:this.state.page>1?"#4f4f4f":"#d8d8d8"})),f.a.createElement(v.n,{onClick:function(e){return t.nextPage(e)}},f.a.createElement(v.k,{name:"KeyboardArrowRight",size:"2em",color:this.state.page<this.state.totalPages?"#4f4f4f":"#d8d8d8"}))),f.a.createElement(v.h,{alignItems:"center"},f.a.createElement(v.u,{fontSize:1,fontWeight:3,color:"cellText"},"Page ",this.state.page," of ",this.state.totalPages)))):f.a.createElement(v.j.h3,{textAlign:"center",fontFamily:"sansSerif",fontWeight:2,fontSize:[2],color:"dark-gray"},"There are no transactions")))}}]),e}(h.Component);e.default=F},4734:function(t,e,n){"use strict";var s=n(11),a=n(12),i=n(15),r=n(14),o=n(18),l=n(0),c=n.n(l),p=n(4737),u=n.n(p),h=n(4),f=function(t){function e(){return Object(s.a)(this,e),Object(i.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(o.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e=function(t){return c.a.createElement(h.j.h4,Object.assign({fontWeight:[3,4],color:"cellTitle",style:{width:"100%",whiteSpace:"nowrap"},fontSize:["10px",3],lineHeight:"initial"},t),t.children)};return c.a.createElement(h.h,{width:this.props.width},this.props.desc&&this.props.desc.length>1?c.a.createElement(h.h,{alignItems:"center"},c.a.createElement(e,this.props),c.a.createElement(h.n,{style:{cursor:"pointer"},onClick:function(e){return t.props.openTooltipModal(t.props.title,t.props.desc)}},c.a.createElement(h.y,{placement:"top",message:"Click to read the description"},c.a.createElement(h.k,{ml:1,name:"Info",color:"cellTitle",className:u.a.tooltip,size:this.props.isMobile?"1em":"1.2em"})))):c.a.createElement(e,this.props))}}]),e}(l.Component);e.a=f},4735:function(t,e,n){"use strict";var s=n(11),a=n(12),i=n(15),r=n(14),o=n(18),l=n(4),c=n(0),p=n.n(c),u=n(32),h=function(t){function e(){return Object(s.a)(this,e),Object(i.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(o.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e=this.props.fieldComponent,n="function"===typeof this.props.handleClick;return p.a.createElement(u.default,Object.assign({cardProps:{mb:2,width:1,px:[2,4],py:[2,"12px"]},id:this.props.cardId},this.props.rowProps,{className:this.props.token,isInteractive:n,handleClick:n?function(e){return t.props.handleClick(t.props)}:null}),p.a.createElement(l.h,{flexDirection:"row",id:this.props.rowId},this.props.cols.map(function(n,s){return!1===n.visible||!1===n.mobile&&t.props.isMobile?null:p.a.createElement(l.h,Object.assign({key:"col-".concat(s)},n.props),p.a.createElement(l.h,Object.assign({width:1,alignItems:"center",flexDirection:"row"},n.parentProps),n.fields.map(function(a,i){return!1===a.visible||!1===a.mobile&&t.props.isMobile?null:p.a.createElement(l.h,Object.assign({height:"100%",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},a.parentProps,{style:a.style?a.style:{overflow:"hidden"},width:n.fields.length>1?"auto":1,id:"field-".concat(s,"-").concat(i,"-").concat(a.name),key:"field-".concat(s,"-").concat(i,"-").concat(a.name)}),p.a.createElement(e,Object.assign({},t.props,{fieldInfo:a,colProps:n.props,parentId:"field-".concat(s,"-").concat(i,"-").concat(a.name)})))})))})))}}]),e}(c.Component);e.a=h},4736:function(t,e,n){"use strict";var s=n(11),a=n(12),i=n(15),r=n(14),o=n(18),l=n(4),c=n(0),p=n.n(c),u=n(4734),h=function(t){function e(){return Object(s.a)(this,e),Object(i.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(o.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this;return p.a.createElement(l.h,{width:1,px:[2,4],pb:[2,3],flexDirection:"row"},this.props.cols.map(function(e,n){return!1===e.visible||!1===e.mobile&&t.props.isMobile?null:e.title&&e.title.length?p.a.createElement(u.a,Object.assign({},t.props,e.props,{desc:e.desc,title:e.title,key:"col-header-".concat(n)}),e.title):p.a.createElement(l.h,Object.assign({key:"col-header-".concat(n)},e.props))}))}}]),e}(c.Component);e.a=h},4737:function(t,e,n){t.exports={tooltip:"TableCellHeader_tooltip__3xM3k"}},4752:function(t,e,n){t.exports={radioBtn:"TransactionListFilters_radioBtn__1vgHa"}}}]);
//# sourceMappingURL=2.d0a9c0dc.chunk.js.map