"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[2172,9020,494,8129],{99020:function(e,t,n){n.r(t),n.d(t,{AnnouncementBanner:function(){return u}});var a=n(7276),r=n(54447),i=n(96699),s=n(3498),l=n(2092),o=n(55967),c=n(15542),d=n(45263),u=function(e){var t=e.text,n=e.mode,u=void 0===n?"none":n,f=e.image,p=(0,i.Fg)(),m=(0,a.useMemo)((function(){return"success"===u?p.colors.darkGreen:"alert"===u?p.colors.yellow:""}),[p,u]);return(0,d.jsx)(r.Card.Dark,{p:[3,5],borderColor:m,children:(0,d.jsxs)(s.Kq,{width:"full",spacing:[2,3],alignItems:"center",justifyContent:"center",direction:["column","row"],children:[f?(0,d.jsx)(l.Ee,{src:f,width:6}):"success"===u?(0,d.jsx)(o.ZSR,{size:24,color:m}):"alert"===u&&(0,d.jsx)(o.YTL,{size:24,color:m}),(0,d.jsx)(c.Translation,{textAlign:"center",translation:t,isHtml:!0,textStyle:"caption"})]})})}},60494:function(e,t,n){n.r(t),n.d(t,{SearchBar:function(){return u}});var a=n(29439),r=n(55967),i=n(79681),s=n(7276),l=n(66288),o=n(3498),c=n(3497),d=n(45263),u=function(e){var t=e.placeholder,n=e.handleSearchChange,u=(0,l.X)().theme,f=(0,i.qM)(),p=(0,s.useState)(""),m=(0,a.Z)(p,2),g=m[0],x=m[1];return(0,s.useEffect)((function(){n(g)}),[g,n]),(0,d.jsx)(o.Ug,{children:(0,d.jsxs)(c.BZ,{children:[(0,d.jsx)(c.II,{type:"text",placeholder:f(t),variant:"search",onChange:function(e){return x(e.target.value)}}),(0,d.jsx)(c.xH,{children:(0,d.jsx)(r.vU7,{size:24,color:u.colors.cta})})]})})}},88129:function(e,t,n){n.r(t),n.d(t,{StrategyOverview:function(){return x}});var a=n(1413),r=n(29439),i=n(20910),s=n(7276),l=n(86059),o=n(15542),c=n(1669),d=n(9597),u=n(3498),f=n(43127),p=n(89030),m=n(1494),g=n(45263),x=function(e){var t=e.textProps,n=e.showHeader,x=void 0===n||n,h=e.showLoading,v=void 0===h||h,y=e.strategies,j=(0,s.useState)(!0),S=(0,r.Z)(j,2),w=S[0],A=S[1],C=(0,c.w)(),b=C.isVaultsPositionsLoaded,Z=C.vaultsPositions,I=(0,m.O)({assetIds:Object.keys(Z),strategies:y}).compositions,T=(0,s.useMemo)((function(){return I.strategies.filter((function(e){return y.includes(e.extraData.strategy.type)})).reduce((function(e,t){return e.redeemable=e.redeemable.plus(t.value),e.earnings=e.earnings.plus(t.extraData.earnings),e.deposited=e.deposited.plus(t.extraData.deposited),e.realizedApy=e.realizedApy.plus((0,i.gA)(t.extraData.avgRealizedApy).times(t.value)),e}),{earnings:(0,i.gA)(0),deposited:(0,i.gA)(0),redeemable:(0,i.gA)(0),realizedApy:(0,i.gA)(0)})}),[I,y]);return T.realizedApy=T.realizedApy.div(T.redeemable),v||b&&!T.deposited.lte(0)?(0,g.jsxs)(u.gC,{spacing:6,alignItems:"flex-start",children:[x&&(0,g.jsxs)(u.Ug,{spacing:2,children:[(0,g.jsx)(o.Translation,{translation:"defi.yourWallet",textStyle:"heading",color:"primary",fontSize:"lg"}),(0,g.jsx)(f.zx,{variant:"unstyled",onClick:function(){return A((function(e){return!e}))},children:w?(0,g.jsx)(d.Zju,{size:24,color:"white"}):(0,g.jsx)(d.I0d,{size:24,color:"white"})})]}),(0,g.jsxs)(u.MI,{columns:3,spacing:[2,10],children:[(0,g.jsxs)(u.gC,{spacing:2,alignItems:"flex-start",children:[(0,g.jsx)(o.Translation,{translation:"defi.deposited",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,g.jsx)(p.N2,{noOfLines:2,isLoaded:!!b,minW:"100%",children:(0,g.jsx)(l.Amount.Usd,(0,a.Z)({value:T.deposited,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]}),(0,g.jsxs)(u.gC,{spacing:2,alignItems:"flex-start",children:[(0,g.jsx)(o.Translation,{translation:"defi.earnings",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,g.jsx)(p.N2,{noOfLines:2,isLoaded:!!b,minW:"100%",children:(0,g.jsx)(l.Amount.Usd,(0,a.Z)({value:T.earnings,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]}),(0,g.jsxs)(u.gC,{spacing:2,alignItems:"flex-start",children:[(0,g.jsx)(o.Translation,{translation:"defi.realizedApy",textStyle:"captionSmall",fontSize:["xs","sm"]}),(0,g.jsx)(p.N2,{noOfLines:2,isLoaded:!!b,minW:"100%",children:(0,g.jsx)(l.Amount.Percentage,(0,a.Z)({value:T.realizedApy,textStyle:"ctaStatic",fontSize:"xl",lineHeight:"initial",sx:w?{}:{filter:"blur(7px)"}},t))})]})]})]}):null}},52172:function(e,t,n){n.r(t),n.d(t,{TableField:function(){return E},Tranches:function(){return M}});var a=n(93433),r=n(1413),i=n(29439),s=n(54447),l=n(79681),o=n(56292),c=n(95173),d=n(86059),u=n(55967),f=n(4432),p=n(39807),m=n(66288),g=n(60494),x=n(75349),h=n(82172),v=n(58194),y=n(15542),j=n(1669),S=n(12056),w=n(75712),A=n(7276),C=n(88129),b=n(99020),Z=n(20910),I=n(89030),T=n(3498),z=n(2092),_=n(43127),N=n(82137),k=n(45263),E=function(e){var t=e.field,n=e.row,a=e.value,r=e.showLoader,i=void 0===r||r,s=n.original.id;return i?(0,k.jsx)(I.N2,{noOfLines:2,isLoaded:!!a,children:(0,k.jsx)(w.AssetProvider,{assetId:s,children:(0,k.jsx)(w.AssetProvider.GeneralData,{section:"strategy",field:t})})}):(0,k.jsx)(w.AssetProvider,{assetId:s,children:(0,k.jsx)(w.AssetProvider.GeneralData,{section:"strategy",field:t})})},M=function(){var e=(0,c.s0)(),t=(0,l.qM)(),n=(0,h.Y)().account,M=(0,m.X)().isMobile,L=(0,p.f)(),P=L.openModal,B=L.closeModal,O=(0,A.useState)(null),R=(0,i.Z)(O,2),H=R[0],U=R[1],F=(0,A.useState)(null),G=(0,i.Z)(F,2),D=G[0],q=G[1],V=(0,A.useState)(null),W=(0,i.Z)(V,2),$=W[0],K=W[1],Y=(0,A.useState)(null),X=(0,i.Z)(Y,2),J=X[0],Q=X[1],ee=(0,j.w)(),te=ee.vaults,ne=ee.isPortfolioLoaded,ae=ee.selectors,re=ae.selectVaultById,ie=ae.selectAssetById,se=ae.selectVaultsWithBalance,le=ae.selectVaultsAssetsByType,oe=ae.selectVaultsAssetsWithBalance,ce=(0,A.useMemo)((function(){return o.R.find((function(e){return"yield-tranches"===e.route}))}),[]),de=(0,A.useMemo)((function(){return(null===ce||void 0===ce?void 0:ce.strategies)||[]}),[ce]),ue=(0,A.useMemo)((function(){return null===de||void 0===de?void 0:de[0]}),[de]),fe=(0,A.useCallback)((function(t,n,a){(0,Z.fU)(n,a,t.original);var r=S.A[t.original.type];return e("/earn/".concat(r.route,"/").concat(t.original.id))}),[e]),pe=(0,A.useCallback)((function(t){var n=re(t),a={AA:ie(null===n||void 0===n?void 0:n.vaultConfig.Tranches.AA.address),BB:ie(null===n||void 0===n?void 0:n.vaultConfig.Tranches.BB.address)};return(0,k.jsx)(T.MI,{mb:6,spacing:6,width:"full",columns:[1,2],children:de.map((function(t){var n,r,i,l=S.A[t].route,o=null===(n=a[t])||void 0===n?void 0:n.id;return(0,k.jsx)(w.AssetProvider,{wrapFlex:!1,assetId:o,children:(0,k.jsxs)(s.Card,{p:4,borderRadius:24,overflow:"hidden",position:"relative",layerStyle:"cardLight",children:[(0,k.jsx)(T.xu,{sx:{zIndex:0,top:"30%",width:"205%",right:"-115%",position:"absolute",height:M?"145%":"125%",background:"radial-gradient(circle, rgba(".concat((0,Z.oo)(null===(r=S.A[t])||void 0===r?void 0:r.color).join(","),",0.8) 0%, rgba(50,61,83,0) 70%)")}}),(0,k.jsxs)(T.xu,{zIndex:1,width:"full",position:"relative",children:[(0,k.jsx)(T.Ug,{width:"full",justifyContent:"flex-end",children:(0,k.jsx)(z.Ee,{w:6,h:6,src:"".concat(f.P5).concat(t,".svg")})}),(0,k.jsxs)(T.gC,{px:2,width:"full",spacing:4,children:[(0,k.jsx)(T.Ug,{width:"full",justifyContent:"flex-start",children:(0,k.jsx)(y.Translation,{translation:S.A[t].label,textStyle:"ctaStatic",fontSize:"cardTitle",lineHeight:"initial"})}),(0,k.jsx)(T.gC,{spacing:2,children:null===(i=S.A[t].features)||void 0===i?void 0:i.map((function(e){return(0,k.jsxs)(T.Ug,{spacing:1,alignItems:"flex-start",children:[(0,k.jsx)(T.xu,{pt:1,children:(0,k.jsx)(u.KEG,{color:"white",size:12})}),(0,k.jsx)(y.Translation,{translation:e,textStyle:"captionSmall"})]},"feature_".concat(e))}))}),(0,k.jsxs)(T.gC,{spacing:0,width:"full",alignItems:"flex-start",children:[(0,k.jsxs)(T.Ug,{spacing:1,width:"full",alignItems:"baseline",children:[(0,k.jsx)(w.AssetProvider.Apy,{showTooltip:!1,color:S.A[t].color,textStyle:"heading",fontSize:"h3"}),(0,k.jsx)(y.Translation,{translation:"defi.apy",color:S.A[t].color,textStyle:"ctaStatic",fontSize:"sm"})]}),(0,k.jsxs)(T.Ug,{spacing:2,width:"full",children:[(0,k.jsx)(y.Translation,{translation:"defi.currentTVL",textStyle:"captionSmall"}),(0,k.jsx)(w.AssetProvider.PoolUsd,{textStyle:"captionSmall",color:"primary",fontSize:"md",fontWeight:"700"})]})]}),"AA"===t?(0,k.jsxs)(T.gC,{spacing:1,width:"full",alignItems:"flex-start",children:[(0,k.jsx)(y.Translation,{translation:"defi.seniorCoverage",textStyle:"ctaStatic"}),(0,k.jsx)(w.AssetProvider.Coverage,{textStyle:"captionSmall",color:"primary"})]}):(0,k.jsxs)(T.gC,{spacing:1,width:"full",alignItems:"flex-start",children:[(0,k.jsx)(y.Translation,{translation:"defi.apyBoost",textStyle:"ctaStatic"}),(0,k.jsxs)(T.Ug,{spacing:1,children:[(0,k.jsx)(w.AssetProvider.ApyBoost,{textStyle:"captionSmall",color:"primary"}),(0,k.jsx)(y.Translation,{translation:"defi.moreThanUnderlying",textStyle:"captionSmall",color:"primary"})]})]}),(0,k.jsx)(T.xu,{width:"full",children:(0,k.jsx)(y.Translation,{translation:"trade.vaults.".concat(t,".cta"),mt:4,component:_.zx,width:"full",variant:"ctaPrimary",onClick:function(){e("/earn/".concat(l,"/").concat(o)),B()}})})]})]})]})},"vault_".concat(o))}))})}),[e,B,de,M,re,ie]),me=(0,A.useCallback)((function(e,t,n){(0,Z.fU)(t,n,e);var a={subtitle:"defi.chooseTranche",body:pe(e.id)};return P(a,"2xl")}),[P,pe]),ge=(0,A.useMemo)((function(){return(null===ce||void 0===ce?void 0:ce.columns)||ue&&S.A[ue].columns}),[ce,ue]),xe=(0,A.useCallback)((function(e,t,n,a){var r=re(e.original.id),i=re(t.original.id);switch(a){case"juniorApy":var s=ie(null===r||void 0===r?void 0:r.vaultConfig.Tranches.BB.address),l=ie(null===i||void 0===i?void 0:i.vaultConfig.Tranches.BB.address),o=(0,Z.gA)(s.apy),c=(0,Z.gA)(l.apy);return o.gt(c)?-1:1;case"seniorApy":var d=ie(null===r||void 0===r?void 0:r.vaultConfig.Tranches.AA.address),u=ie(null===i||void 0===i?void 0:i.vaultConfig.Tranches.AA.address),f=(0,Z.gA)(d.apy),p=(0,Z.gA)(u.apy);return f.gt(p)?-1:1;default:return 1}}),[re,ie]),he=(0,A.useCallback)((function(e){switch(e){case"alpha":return Z.YC;case"numeric":return Z._O;case"trancheApy":return xe;default:return}}),[xe]),ve=(0,A.useMemo)((function(){return ge?ge.reduce((function(e,n){var a=n.id,i=n.accessor,s=n.sortType,l=he(s);return e[a]={id:a,accessor:i,width:n.width,disableSortBy:!l,defaultCanSort:!!l,Header:t(n.title||"defi.".concat(a)),sortType:l?function(e,t){return l(e,t,i)}:void 0,Cell:function(e){var t=e.value,i=e.row;return n.extraFields&&n.extraFields.length>0?(0,k.jsxs)(T.Kq,(0,r.Z)((0,r.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},n.stackProps),{},{children:[(0,k.jsx)(E,{field:a,value:t,row:i}),(0,k.jsx)(T.kC,(0,r.Z)((0,r.Z)({flex:1},n.stackProps),{},{children:n.extraFields.map((function(e){return(0,k.jsx)(E,{field:e,value:t,row:i,showLoader:!1},"extraField_".concat(e))}))}))]})):(0,k.jsx)(E,{field:a,value:t,row:i})}},e}),{}):{}}),[ge,t,he]),ye=(0,A.useMemo)((function(){return ue&&ge?ge.filter((function(e){return!e.tables||e.tables.includes("Available")})).map((function(e){var n=e.id,a=e.accessor,i=e.sortType,s=he(i);return{id:n,accessor:a,width:e.width,disableSortBy:!s,defaultCanSort:!!s,Header:t(e.title||"defi.".concat(n)),sortType:s?function(e,t){return s(e,t,a,n)}:void 0,Cell:function(t){var a=t.value,i=t.row;return e.extraFields&&e.extraFields.length>0?(0,k.jsxs)(T.Kq,(0,r.Z)((0,r.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,k.jsx)(E,{field:n,value:a,row:i}),(0,k.jsx)(T.kC,(0,r.Z)((0,r.Z)({flex:1},e.stackProps),{},{children:e.extraFields.map((function(e){return(0,k.jsx)(E,{field:e,value:a,row:i,showLoader:!1},"extraField_".concat(e))}))}))]})):(0,k.jsx)(E,{field:n,value:a,row:i})}}})):[]}),[ue,ge,t,he]),je=(0,A.useMemo)((function(){return ue&&ge?ge.filter((function(e){return!e.tables||e.tables.includes("Deposited")})).map((function(e){var n=e.id,a=e.accessor,i=e.sortType,s="alpha"===i?Z.YC:"numeric"===i?Z._O:void 0;return{id:n,accessor:a,disableSortBy:!s,defaultCanSort:!!s,Header:t(e.title||"defi.".concat(n)),sortType:s?function(e,t){return s(e,t,a)}:void 0,Cell:function(t){var a=t.value,i=t.row;return e.extraFields&&e.extraFields.length>0?(0,k.jsxs)(T.Kq,(0,r.Z)((0,r.Z)({spacing:2,width:"full",direction:"row",alignItems:"center"},e.stackProps),{},{children:[(0,k.jsx)(E,{field:n,value:a,row:i}),(0,k.jsx)(T.kC,(0,r.Z)((0,r.Z)({flex:1},e.stackProps),{},{children:e.extraFields.map((function(e){return(0,k.jsx)(E,{field:e,value:a,row:i,showLoader:!1},"extraField_".concat(e))}))}))]})):(0,k.jsx)(E,{field:n,value:a,row:i})}}})):[]}),[ue,ge,t]),Se=(0,A.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,a.Z)(je),[{accessor:"balanceUsd",Header:t("defi.balance"),Cell:function(e){var t=e.value;return(0,k.jsx)(I.N2,{noOfLines:2,isLoaded:!!t,children:(0,k.jsx)(d.Amount.Usd,{value:t,textStyle:"tableCell"})})},sortType:Z._O},{accessor:"vaultPosition",Header:t("defi.realizedApy"),Cell:function(e){var t=e.value,n=e.row;return(0,k.jsx)(I.N2,{noOfLines:2,isLoaded:!!t,children:t&&(0,k.jsxs)(N.kN,{children:[(0,k.jsx)(N.Jf,{children:(0,k.jsxs)(T.kC,{direction:"row",alignItems:"center",children:[!t.realizedApy.isNaN()&&(0,k.jsx)(N.uY,{type:"increase"}),(0,k.jsx)(E,{field:"realizedApy",value:t,row:n})]})}),(0,k.jsx)(d.Amount.Usd,{prefix:"+",value:t.usd.earnings,textStyle:"captionSmall"})]})})},sortType:function(e,t){return(0,Z._O)(e,t,"vaultPosition.earningsPercentage")}},ve.chainId])}),[t,ve,je]),we=(0,A.useMemo)((function(){return[{Header:"#",accessor:"id",display:"none"}].concat((0,a.Z)(ye))}),[ye]),Ae=(0,A.useMemo)((function(){return se&&ne&&de&&null!==n&&void 0!==n&&n.address?null===de||void 0===de?void 0:de.reduce((function(e,t){var n=oe(t);return[].concat((0,a.Z)(e),(0,a.Z)(n||[]))}),[]):[]}),[ne,n,se,oe,de]),Ce=(0,A.useMemo)((function(){if(!le||!ne)return[];var e=function(e){return Ae.map((function(e){return e.id})).includes(e.id)};return le(ue).reduce((function(t,n){if("deprecated"===n.status)return t;if(e(n)){var a=re(n.id);if(a){var r="AA"===n.type?"BB":"AA",i=te.find((function(e){return"cdoConfig"in e&&"cdoConfig"in a&&e.type===r&&e.cdoConfig.address===a.cdoConfig.address}));if(i){var s=ie(i.id);"deprecated"===(null===s||void 0===s?void 0:s.status)||e(s)||t.push(s)}}}else t.push(n);return t}),[])}),[ne,te,ie,re,le,Ae,ue]),be=(0,A.useMemo)((function(){return le&&ne?le(ue).filter((function(e){return!Ae.map((function(e){return e.id})).includes(e.id)&&"deprecated"===e.status&&(0,Z.d5)(e.tvlUsd).gt(500)})):[]}),[ne,le,Ae,ue]),Ze=(0,A.useMemo)((function(){return ue?"".concat(ue,"_deposited"):""}),[ue]),Ie=(0,A.useMemo)((function(){if(!ue)return"";var e=t(S.A[ue].label);return"".concat(e," - ").concat(t("defi.deposited"))}),[ue,t]),Te=(0,A.useMemo)((function(){return ue?"".concat(ue,"_available"):""}),[ue]),ze=(0,A.useMemo)((function(){if(!ue)return"";var e=t(S.A[ue].label);return"".concat(e," - ").concat(t("common.available"))}),[ue,t]),_e=(0,A.useMemo)((function(){return ue?"".concat(ue,"_deprecated"):""}),[ue]),Ne=(0,A.useMemo)((function(){if(!ue)return"";var e=t(S.A[ue].label);return"".concat(e," - ").concat(t("common.deprecated"))}),[ue,t]);(0,A.useEffect)((function(){if(ue&&J!==ue&&Ae.length){var e=Ae.map((function(e){return(0,Z.ym)(e,Ze,Ie)}));(0,Z.y6)(Ze,Ie,e),Q(ue)}}),[n,ue,t,Ze,Ie,Ae,J,Q]),(0,A.useEffect)((function(){if(ue&&$!==ue&&Ce.length){var e=Ce.map((function(e){return(0,Z.ym)(e,Te,ze)}));(0,Z.y6)(Te,ze,e),K(ue)}}),[n,t,Te,ze,$,K,ue,Ce]);var ke=(0,A.useMemo)((function(){if(!Ae.length)return null;var e=Ae.filter((function(e){return!D||!D.length||null!==new RegExp(D,"i").exec(e.name)||null!==new RegExp(D,"i").exec(e.protocol)}));return M?(0,k.jsxs)(T.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,k.jsx)(y.Translation,{translation:"defi.depositedAssets",component:T.X6,as:"h3",fontSize:"lg"}),(0,k.jsx)(T.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:e.map((function(e){return e.id&&(0,k.jsx)(x.VaultCard,{assetId:e.id},"vault_".concat(e.id))}))})]}):(0,k.jsxs)(s.Card,{mt:10,children:[(0,k.jsxs)(T.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between",children:[(0,k.jsx)(y.Translation,{translation:"defi.depositedAssets",component:s.Card.Heading,fontSize:"lg"}),(0,k.jsx)(g.SearchBar,{placeholder:"defi.searchToken",handleSearchChange:q})]}),(0,k.jsx)(v.ReactTable,{columns:Se,data:e,initialState:{sortBy:[{id:"balanceUsd",desc:!1}]},onRowClick:function(e){return fe(e,Ze,Ie)}})]})}),[M,Se,D,q,Ze,Ie,Ae,fe]),Ee=(0,A.useMemo)((function(){if(ne&&!Ce.length)return null;var e=Ce.filter((function(e){return!H||!H.length||null!==new RegExp(H,"i").exec(e.name)||null!==new RegExp(H,"i").exec(e.protocol)}));return M?(0,k.jsxs)(T.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,k.jsx)(y.Translation,{translation:"defi.availableAssets",component:T.X6,as:"h3",fontSize:"lg"}),(0,k.jsx)(T.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:e.map((function(e){return e.id&&(0,k.jsx)(x.VaultCard.Tranche,{assetId:e.id,onClick:function(){return me(e,Te,ze)}},"vault_".concat(e.id))}))})]}):(0,k.jsxs)(s.Card,{mt:10,children:[(0,k.jsxs)(T.Ug,{width:"full",alignItems:"flex-start",justifyContent:"space-between",children:[(0,k.jsx)(y.Translation,{translation:"defi.availableAssets",component:s.Card.Heading,fontSize:"lg"}),(0,k.jsx)(g.SearchBar,{placeholder:"defi.searchToken",handleSearchChange:U})]}),ne?(0,k.jsx)(v.ReactTable,{columns:we,data:e,initialState:{sortBy:[{id:"trancheTotalTvl",desc:!1}]},onRowClick:function(e){return me(e.original,Te,ze)}}):(0,k.jsxs)(T.Kq,{children:[(0,k.jsx)(I.Od,{}),(0,k.jsx)(I.Od,{})]})]})}),[M,ne,H,U,we,Te,ze,Ce,me]),Me=(0,A.useMemo)((function(){if(!ne||!be.length)return null;return M?(0,k.jsxs)(T.gC,{mt:20,spacing:6,width:"100%",alignItems:"flex-start",children:[(0,k.jsx)(y.Translation,{translation:"defi.deprecatedAssets",component:T.X6,as:"h3",fontSize:"lg"}),(0,k.jsx)(T.gC,{spacing:2,width:"100%",alignItems:"flex-start",children:be.map((function(e){return e.id&&(0,k.jsx)(x.VaultCard.Tranche,{assetId:e.id,onClick:function(){return me(e,_e,Ne)}},"vault_".concat(e.id))}))})]}):(0,k.jsxs)(s.Card,{mt:10,children:[(0,k.jsx)(y.Translation,{translation:"defi.deprecatedAssets",component:s.Card.Heading,fontSize:"lg"}),be.length?(0,k.jsx)(v.ReactTable,{columns:we,data:be,initialState:{sortBy:[{id:"trancheTotalTvl",desc:!1}]},onRowClick:function(e){return me(e.original,_e,Ne)}}):(0,k.jsxs)(T.Kq,{children:[(0,k.jsx)(I.Od,{}),(0,k.jsx)(I.Od,{})]})]})}),[M,ne,we,_e,Ne,be,me]),Le=(0,A.useMemo)((function(){if(!ue)return null;var e=null===ce||void 0===ce?void 0:ce.modal;return(0,k.jsxs)(T.gC,{width:"full",spacing:10,children:[(0,k.jsx)(b.AnnouncementBanner,{text:"feeDiscount.announcement",image:"images/vaults/discount.png"}),(0,k.jsxs)(T.Kq,{spacing:[8,0],direction:["column","row"],alignItems:["center","flex-start"],width:["100%","100%","100%","100%","80%"],children:[(0,k.jsxs)(T.gC,{pr:[0,0],spacing:10,direction:"column",width:["100%","50%"],alignItems:["center","flex-start"],children:[(0,k.jsx)(y.Translation,{isHtml:!0,translation:"strategies.tranches.title",component:T.X6,fontFamily:"body",as:"h2",size:"3xl",fontWeight:"bold",lineHeight:"normal"}),!M&&(0,k.jsxs)(T.gC,{spacing:1,width:["100%","90%"],alignItems:"flex-start",children:[(0,k.jsx)(y.Translation,{isHtml:!0,translation:"strategies.tranches.description",textAlign:["center","left"]}),e&&(0,k.jsxs)(T.Ug,{spacing:2,children:[(0,k.jsx)(y.Translation,{translation:"defi.modals.learnMore.cta.learnMore",textStyle:"cta",onClick:function(){return P(e)}}),(0,k.jsx)(u.KEG,{})]})]}),!M&&(0,k.jsx)(C.StrategyOverview,{showLoading:!1,strategies:de})]}),(0,k.jsx)(z.Ee,{width:["100%","50%"],src:null===ce||void 0===ce?void 0:ce.image}),M&&(0,k.jsx)(y.Translation,{isHtml:!0,translation:"strategies.tranches.description",textAlign:["center","left"]}),M&&(0,k.jsx)(C.StrategyOverview,{showLoading:!1,strategies:de})]})]})}),[ue,ce,de,M,P]);return(0,k.jsxs)(T.kC,{mt:10,width:"100%",direction:"column",alignItems:"center",children:[Le,ke,Ee,Me]})}},1494:function(e,t,n){n.d(t,{O:function(){return u}});var a=n(93433),r=n(4942),i=n(1413),s=n(7276),l=n(20910),o=n(79681),c=n(12056),d=n(1669),u=function(e){var t=e.assetIds,n=e.strategies,u=(0,o.qM)(),f=(0,d.w)().selectors,p=f.selectAssetById,m=f.selectAssetsByIds,g=(0,s.useMemo)((function(){return m?m(t):[]}),[t,m]),x=Object.keys(c.A).reduce((function(e,t){return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},t,{balance:(0,l.gA)(0),earnings:(0,l.gA)(0),deposited:(0,l.gA)(0),weightedRealizedApy:(0,l.gA)(0)}))}),{}),h=(0,s.useMemo)((function(){return g.filter((function(e){return e.type&&(!n||n.includes(e.type))})).reduce((function(e,t){var n;return t.type&&t.vaultPosition?(e[t.type].earnings=e[t.type].earnings.plus(t.vaultPosition.usd.earnings),e[t.type].balance=e[t.type].balance.plus(t.vaultPosition.usd.redeemable),e[t.type].deposited=e[t.type].deposited.plus(t.vaultPosition.usd.deposited),(0,l.gA)(null===(n=t.vaultPosition)||void 0===n?void 0:n.realizedApy).gt(0)&&(e[t.type].weightedRealizedApy=e[t.type].weightedRealizedApy.plus(t.vaultPosition.realizedApy.times(t.vaultPosition.usd.redeemable))),e):e}),x)}),[g,n,x]),v=(0,s.useMemo)((function(){return g.filter((function(e){return e.type&&(!n||n.includes(e.type))})).reduce((function(e,t){if(!t.underlyingId||!t.vaultPosition)return e;var n=p(t.underlyingId);return n?(e[n.id]||(e[n.id]=(0,l.gA)(0)),e[n.id]=e[n.id].plus(t.vaultPosition.usd.redeemable),e):e}),{})}),[g,n,p]),y={assets:[],strategies:[]};y.strategies=(0,s.useMemo)((function(){return Object.keys(h).map((function(e){return{label:u(c.A[e].label),extraData:{avgRealizedApy:h[e].balance.gt(0)?parseFloat(h[e].weightedRealizedApy.div(h[e].balance)):0,strategy:c.A[e],earnings:parseFloat(h[e].earnings),deposited:parseFloat(h[e].deposited)},value:parseFloat(h[e].balance)}}))}),[h,u]),y.assets=(0,s.useMemo)((function(){return Object.keys(v).reduce((function(e,t){var r=p(t);return!r||r.type&&(!n||n.includes(r.type))?e:[].concat((0,a.Z)(e),[{label:r.name,extraData:{asset:r},value:parseFloat(v[t])}])}),[])}),[v,p,n]);var j={assets:{},strategies:{}};return j.strategies=(0,s.useMemo)((function(){return Object.values(c.A).reduce((function(e,t){var n=u(t.label);return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},n,t.color))}),{})}),[u]),j.assets=(0,s.useMemo)((function(){return Object.keys(v).reduce((function(e,t){var n=p(t);if(!n)return e;var a=n.name;return(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},a,n.color))}),{})}),[v,p]),{colors:j,compositions:y}}},3497:function(e,t,n){n.d(t,{BZ:function(){return Z},II:function(){return S},xH:function(){return L}});var a=n(4942),r=n(29439),i=n(1413),s=n(45987),l=n(7276),o=n(61844),c=n(96699),d=n(7828),u=n(29690),f=n(2548),p=n(3142),m=n(64042),g=["htmlSize"],x=["children","className"],h=["placement"],v=["placement"],y=["className"],j=["className"],S=(0,c.Gp)((function(e,t){var n=e.htmlSize,a=(0,s.Z)(e,g),r=(0,c.jC)("Input",a),f=(0,d.Lr)(a),p=(0,o.Yp)(f),m=(0,u.cx)("chakra-input",e.className);return l.createElement(c.m$.input,(0,i.Z)((0,i.Z)({size:n},p),{},{__css:r.field,ref:t,className:m}))}));S.displayName="Input",S.id="Input";var w=(0,f.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "}),A=(0,r.Z)(w,2),C=A[0],b=A[1],Z=(0,c.Gp)((function(e,t){var n=(0,c.jC)("Input",e),a=(0,d.Lr)(e),r=a.children,o=a.className,f=(0,s.Z)(a,x),g=(0,u.cx)("chakra-input__group",o),h={},v=(0,p.W)(r),y=n.field;v.forEach((function(e){if(n){var t,a;if(y&&"InputLeftElement"===e.type.id)h.paddingStart=null!==(t=y.height)&&void 0!==t?t:y.h;if(y&&"InputRightElement"===e.type.id)h.paddingEnd=null!==(a=y.height)&&void 0!==a?a:y.h;"InputRightAddon"===e.type.id&&(h.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(h.borderStartRadius=0)}}));var j=v.map((function(t){var n,a,r=(0,m.oA)({size:(null==(n=t.props)?void 0:n.size)||e.size,variant:(null==(a=t.props)?void 0:a.variant)||e.variant});return"Input"!==t.type.id?(0,l.cloneElement)(t,r):(0,l.cloneElement)(t,Object.assign(r,h,t.props))}));return l.createElement(c.m$.div,(0,i.Z)({className:g,ref:t,__css:{width:"100%",display:"flex",position:"relative"}},f),l.createElement(C,{value:n},j))}));Z.displayName="InputGroup";var I={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},T=(0,c.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),z=(0,c.Gp)((function(e,t){var n,a=e.placement,r=void 0===a?"left":a,o=(0,s.Z)(e,h),c=null!==(n=I[r])&&void 0!==n?n:{},d=b();return l.createElement(T,(0,i.Z)((0,i.Z)({ref:t},o),{},{__css:(0,i.Z)((0,i.Z)({},d.addon),c)}))}));z.displayName="InputAddon";var _=(0,c.Gp)((function(e,t){return l.createElement(z,(0,i.Z)((0,i.Z)({ref:t,placement:"left"},e),{},{className:(0,u.cx)("chakra-input__left-addon",e.className)}))}));_.displayName="InputLeftAddon",_.id="InputLeftAddon";var N=(0,c.Gp)((function(e,t){return l.createElement(z,(0,i.Z)((0,i.Z)({ref:t,placement:"right"},e),{},{className:(0,u.cx)("chakra-input__right-addon",e.className)}))}));N.displayName="InputRightAddon",N.id="InputRightAddon";var k=(0,c.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),E=(0,c.Gp)((function(e,t){var n,r,o,c=e.placement,d=void 0===c?"left":c,u=(0,s.Z)(e,v),f=b(),p=f.field,m="left"===d?"insetStart":"insetEnd",g=(0,i.Z)((o={},(0,a.Z)(o,m,"0"),(0,a.Z)(o,"width",null!==(n=null==p?void 0:p.height)&&void 0!==n?n:null==p?void 0:p.h),(0,a.Z)(o,"height",null!==(r=null==p?void 0:p.height)&&void 0!==r?r:null==p?void 0:p.h),(0,a.Z)(o,"fontSize",null==p?void 0:p.fontSize),o),f.element);return l.createElement(k,(0,i.Z)({ref:t,__css:g},u))}));E.id="InputElement",E.displayName="InputElement";var M=(0,c.Gp)((function(e,t){var n=e.className,a=(0,s.Z)(e,y),r=(0,u.cx)("chakra-input__left-element",n);return l.createElement(E,(0,i.Z)({ref:t,placement:"left",className:r},a))}));M.id="InputLeftElement",M.displayName="InputLeftElement";var L=(0,c.Gp)((function(e,t){var n=e.className,a=(0,s.Z)(e,j),r=(0,u.cx)("chakra-input__right-element",n);return l.createElement(E,(0,i.Z)({ref:t,placement:"right",className:r},a))}));L.id="InputRightElement",L.displayName="InputRightElement"},82137:function(e,t,n){n.d(t,{Jf:function(){return w},kN:function(){return v},uY:function(){return S}});var a=n(45987),r=n(1413),i=n(29439),s=n(7276),l=n(32390),o=n(96699),c=n(2548),d=n(7828),u=["className","children"],f=["type","aria-label"],p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")},m=(0,c.k)({name:"StatStylesContext",errorMessage:"useStatStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Stat />\" "}),g=(0,i.Z)(m,2),x=g[0],h=g[1],v=(0,o.Gp)((function(e,t){var n=(0,o.jC)("Stat",e),i=(0,r.Z)({position:"relative",flex:"1 1 0%"},n.container),l=(0,d.Lr)(e),c=l.className,f=l.children,m=(0,a.Z)(l,u);return s.createElement(x,{value:n},s.createElement(o.m$.div,(0,r.Z)((0,r.Z)({ref:t},m),{},{className:p("chakra-stat",c),__css:i}),s.createElement("dl",null,f)))}));v.displayName="Stat";var y=function(e){return s.createElement(l.JO,(0,r.Z)({color:"red.400"},e),s.createElement("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"}))};function j(e){return s.createElement(l.JO,(0,r.Z)({color:"green.400"},e),s.createElement("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"}))}function S(e){var t=e.type,n=e["aria-label"],i=(0,a.Z)(e,f),l=h(),c="increase"===t?j:y,d=n||("increase"===t?"increased by":"decreased by");return s.createElement(s.Fragment,null,s.createElement(o.m$.span,{srOnly:!0},d),s.createElement(c,(0,r.Z)((0,r.Z)({"aria-hidden":!0},i),{},{__css:l.icon})))}y.displayName="StatDownArrow",j.displayName="StatUpArrow",S.displayName="StatArrow",(0,o.Gp)((function(e,t){return s.createElement(o.m$.div,(0,r.Z)((0,r.Z)({},e),{},{ref:t,role:"group",className:p("chakra-stat__group",e.className),__css:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start"}}))})).displayName="StatGroup",(0,o.Gp)((function(e,t){var n=h();return s.createElement(o.m$.dd,(0,r.Z)((0,r.Z)({ref:t},e),{},{className:p("chakra-stat__help-text",e.className),__css:n.helpText}))})).displayName="StatHelpText",(0,o.Gp)((function(e,t){var n=h();return s.createElement(o.m$.dt,(0,r.Z)((0,r.Z)({ref:t},e),{},{className:p("chakra-stat__label",e.className),__css:n.label}))})).displayName="StatLabel";var w=(0,o.Gp)((function(e,t){var n=h();return s.createElement(o.m$.dd,(0,r.Z)((0,r.Z)({ref:t},e),{},{className:p("chakra-stat__number",e.className),__css:(0,r.Z)((0,r.Z)({},n.number),{},{fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"})}))}));w.displayName="StatNumber"}}]);