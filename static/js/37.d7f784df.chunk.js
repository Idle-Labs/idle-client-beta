(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{4860:function(t,e,n){"use strict";n.r(e);var o=n(1),a=n.n(o),i=n(6),s=n(11),r=n(12),l=n(15),c=n(14),u=n(18),h=n(129),p=n(4761),f=n(0),d=n.n(f),m=n(144),g=n(69),b=n(50),k=n(500),v=n(32),y=n(4),x=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(c.a)(e)).call.apply(t,[this].concat(a)))).state={tokenApy:null,chartData:null,chartProps:null,inputValue:1e3,maxInputValue:999999999999999},n.functionsUtil=null,n}return Object(u.a)(e,t),Object(r.a)(e,[{key:"loadUtils",value:function(){this.functionsUtil?this.functionsUtil.setProps(this.props):this.functionsUtil=new b.a(this.props)}},{key:"componentWillMount",value:function(){var t=Object(i.a)(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=Object(i.a)(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadChart();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(i.a)(a.a.mark(function t(e,n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loadUtils(),e.selectedToken!==this.props.selectedToken&&this.loadChart();case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getTokenApy",value:function(){var t=Object(i.a)(a.a.mark(function t(){var e;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.state.tokenApy,t.t0){t.next=5;break}return t.next=4,this.functionsUtil.getTokenApy(this.props.tokenConfig);case 4:t.t0=t.sent;case 5:return e=t.t0,this.state.tokenApy!==e&&this.setState({tokenApy:e}),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"loadChart",value:function(){var t=Object(i.a)(a.a.mark(function t(){var e,n,o,i,s,r,l,c,u,p,f,d,m,g,b=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTokenApy();case 2:for(e=t.sent,n=this.functionsUtil.BNify(this.state.inputValue),o=n.times(e.div(100)),i=parseFloat(o.div(12)),s=parseFloat(o.div(4)),r=parseFloat(o.div(2)),l=parseFloat(o.div(1)),c=[{perc:1/12,label:"MONTH",value:i,month:i,color:this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"color","rgb"]).join(","),monthColor:"hsl("+this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"color","hsl"]).join(",")+")"},{perc:.25,label:"3 MONTHS",value:s,month3:s,color:this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"color","rgb"]).join(","),month3Color:"hsl("+this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"color","hsl"]).join(",")+")"},{perc:.5,label:"6 MONTHS",value:r,month6:r,color:this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"color","rgb"]).join(","),month6Color:"hsl("+this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"color","hsl"]).join(",")+")"},{perc:1,label:"YEAR",year:l,value:l,color:this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"color","rgb"]).join(","),yearColor:"hsl("+this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"color","hsl"]).join(",")+")"}],u=this.functionsUtil.getGlobalConfig(["stats","tokens",this.props.selectedToken,"chart","labelTextColorModifiers"]),4,p=l/4,f=[0],d=1;d<=4;d++)m=d*p,f.push(m);g={padding:.2,animate:!1,indexBy:"label",labelSkipWidth:16,labelSkipHeight:16,keys:["month","month3","month6","year"],colors:function(t){var e=t.id;return t.data["".concat(e,"Color")]},label:function(t){return b.functionsUtil.abbreviateNumber(t.value,2,4)+" "+b.props.selectedToken},labelTextColor:u?{from:"color",modifiers:[u]}:null,isInteractive:!1,minValue:0,gridYValues:f,axisLeft:{format:function(t){return b.functionsUtil.abbreviateNumber(t,1,3)},tickValues:f,orient:"left",tickSize:0,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle"},axisBottom:{legend:"",tickSize:0,tickPadding:15,orient:"bottom"},theme:{labels:{text:{fontSize:15,fontWeight:600,fill:h.a.colors.counter,fontFamily:h.a.fonts.sansSerif}},axis:{ticks:{text:{fontSize:14,fontWeight:600,fill:h.a.colors.legend,fontFamily:h.a.fonts.sansSerif}}},grid:{line:{stroke:"#dbdbdb",strokeDasharray:"9 5"}}},margin:this.props.isMobile?{top:0,right:0,bottom:30,left:0}:{top:10,right:0,bottom:50,left:65}},this.setState({chartData:c,chartProps:g});case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"changeInputValue",value:function(t){var e=t.target.value.length&&!isNaN(t.target.value)?Math.min(this.state.maxInputValue,parseFloat(t.target.value)):0;e=this.functionsUtil.BNify(e),this.setState({inputValue:e})}},{key:"render",value:function(){var t=this;if(!this.props.selectedToken||!this.props.tokenConfig)return null;var e=this.functionsUtil.getGlobalConfig(["govTokens","IDLE","enabled"])&&this.functionsUtil.getGlobalConfig(["govTokens","IDLE","showAPR"]);return d.a.createElement(v.default,{cardProps:{p:[3,4]}},d.a.createElement(y.h,{width:1,flexDirection:["column","row"]},d.a.createElement(y.h,{width:[1,.3],flexDirection:"column",justifyContent:"flex-start"},d.a.createElement(y.h,{alignItems:"center",flexDirection:"column",justifyContent:"center"},d.a.createElement(m.a,{token:this.props.selectedToken,fieldInfo:{name:"icon",props:{mb:2,height:"2.5em"}}}),d.a.createElement(y.u,{fontSize:2,color:"cellText",textAlign:"center"},"Set the amount and see your estimated earnings on time based on the current APY: ",this.state.tokenApy?"".concat(this.state.tokenApy.toFixed(2),"%"):null,e&&d.a.createElement(y.h,{style:{display:"inline-flex",verticalAlign:"middle"}},d.a.createElement(y.y,{placement:"top",message:this.functionsUtil.getGlobalConfig(["messages","apyLong"])},d.a.createElement(y.k,{ml:1,name:"Info",size:"1em",color:"cellTitle"}))))),d.a.createElement(y.h,{mt:3,flexDirection:"column"},d.a.createElement(y.m,{min:0,max:this.state.maxInputValue,type:"number",required:!0,height:["3em","3.4em"],borderRadius:2,fontWeight:500,textAlign:"center",boxShadow:"none !important",onChange:this.changeInputValue.bind(this),border:"1px solid ".concat(h.a.colors.divider),placeholder:"Insert ".concat(this.props.selectedToken.toUpperCase()," amount"),value:this.state.inputValue&&!isNaN(this.state.inputValue)?this.state.inputValue:""})),d.a.createElement(y.h,{mt:3,justifyContent:"center"},d.a.createElement(g.default,{buttonProps:{width:[1,.5]},handleClick:this.loadChart.bind(this)},"CALCULATE"))),d.a.createElement(y.h,{mt:[3,0],width:[1,.7],id:"estimated-earnings-chart"},this.props.isMobile?d.a.createElement(y.h,{width:1,flexDirection:"column"},null!==this.state.chartData&&this.state.chartData.map(function(e,n){return d.a.createElement(y.h,{py:2,my:2,width:1,flexDirection:"row",key:"earnings_".concat(n)},d.a.createElement(y.h,{width:.35,alignItems:"center",justifyContent:"flex-start"},d.a.createElement(y.u,{fontSize:1,fontWeight:3,color:"legend"},e.label)),d.a.createElement(y.h,{width:.65,position:"relative",alignItems:"center",minHeight:["20px","35px"],justifyContent:"center"},d.a.createElement(y.h,{zIndex:1,position:"relative",alignItems:"center",flexDirection:"column",justifyContent:"center"},d.a.createElement(y.u,{fontSize:1,fontWeight:3,color:"counter"},t.functionsUtil.abbreviateNumber(e.value,2,4)," ",t.props.selectedToken)),d.a.createElement(y.h,{right:0,width:e.perc,position:"absolute",height:["20px","35px"],borderRadius:["20px 0 0 20px","35px 0 0 35px"],style:{background:"linear-gradient(-90deg, rgba(".concat(e.color,",0) 0%, rgba(").concat(e.color,",1) 100%)")}})))})):d.a.createElement(k.a,Object.assign({type:p.a,height:250,showLoader:!0},this.state.chartProps,{data:this.state.chartData,parentId:"estimated-earnings-chart"})))))}}]),e}(f.Component);e.default=x}}]);
//# sourceMappingURL=37.d7f784df.chunk.js.map