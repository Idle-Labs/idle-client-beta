"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[8415,7658,745,7778,1608],{3148:function(t,e,n){n.r(e),n.d(e,{AssetGeneralData:function(){return j},AssetGeneralDataField:function(){return v}});var i=n(1413),a=n(7276),s=n(55967),o=n(54447),r=n(79681),l=n(15542),c=n(1669),d=n(12056),u=n(7386),x=n(6940),p=n(96699),m=n(3498),f=n(70820),h=n(45263),g=function(t){var e=t.generalData,n=(0,p.Fg)(),i=(0,r.qM)();return e.tooltip?(0,h.jsxs)(m.Ug,{spacing:1,alignItems:"center",children:[(0,h.jsx)(l.Translation,{component:m.xv,translation:e.label,textStyle:"captionSmall"}),(0,h.jsx)(f.u,{hasArrow:!0,placement:"top",label:i(e.tooltip),children:(0,h.jsx)(x.TooltipContent,{children:(0,h.jsx)(s.I5p,{color:n.colors.cta,size:16})})})]}):(0,h.jsx)(l.Translation,{component:m.xv,translation:e.label,textStyle:"captionSmall"})},v=function(t){var e=t.generalData;return(0,h.jsxs)(m.gC,{spacing:2,alignItems:"flex-start",justifyContent:"flex-start",children:[(0,h.jsxs)(m.Ug,{width:"100%",alignItems:"center",justifyContent:"space-between",children:[(0,h.jsx)(g,{generalData:e}),e.inlineField&&(0,h.jsx)(u.AssetProvider.GeneralData,{section:"asset",field:e.inlineField})]}),(0,h.jsx)(u.AssetProvider.GeneralData,(0,i.Z)({section:"asset",field:e.field},e.props))]})},j=function(t){var e=t.assetId,n=(0,c.w)().selectors.selectAssetById,i=(0,a.useMemo)((function(){return n&&n(e)}),[n,e]),s=(0,a.useMemo)((function(){return(null===i||void 0===i?void 0:i.type)&&d.A[i.type]}),[i]);return(0,h.jsx)(u.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,h.jsxs)(o.Card.Dark,{children:[(0,h.jsx)(m.MI,{spacing:[6,0],columns:[2,Math.min(null===s||void 0===s?void 0:s.generalDataFields.length,5)],children:(null===s||void 0===s?void 0:s.generalDataFields)&&(null===s||void 0===s?void 0:s.generalDataFields.slice(0,5).map((function(t){return(0,h.jsx)(v,{generalData:t},"field_".concat(t.field))})))}),(null===s||void 0===s?void 0:s.generalDataFields)&&(null===s||void 0===s?void 0:s.generalDataFields.length)>5&&(0,h.jsx)(m.MI,{pt:6,mt:6,spacing:[6,0],columns:[2,Math.min(null===s||void 0===s?void 0:s.generalDataFields.length,5)],borderTop:"1px solid",borderTopColor:"divider",children:null===s||void 0===s?void 0:s.generalDataFields.slice(5).map((function(t){return(0,h.jsx)(v,{generalData:t},"field_".concat(t.field))}))})]})})}},37658:function(t,e,n){n.r(e),n.d(e,{InteractiveComponent:function(){return p}});var i=n(29439),a=n(7276),s=n(55967),o=n(66288),r=n(15542),l=n(3498),c=n(43127),d=n(18147),u=n(4710),x=n(45263),p=function(t){var e=t.assetId,n=t.vaultId,p=t.actions,m=(0,o.X)().isMobile,f=(0,a.useState)(!1),h=(0,i.Z)(f,2),g=h[0],v=h[1],j=(0,a.useState)(!1),w=(0,i.Z)(j,2),y=w[0],b=w[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(l.gC,{left:0,zIndex:[40,0],spacing:[0,6],id:"right-side",width:["100vw","27em"],height:["100vh","auto"],position:["fixed","relative"],top:[g?0:"100vh",0],bg:m?"rgba(0, 0, 0, 0.5)":void 0,sx:m?{transition:"top 0.3s ease-in-out"}:{},children:[(0,x.jsxs)(l.gC,{bottom:0,spacing:0,width:"100%",height:["100vh","auto"],position:["fixed","relative"],top:[g?0:"100vh",0],sx:m?{transition:"top 0.3s ease-in-out"}:{},children:[m&&(0,x.jsxs)(l.Ug,{px:4,py:2,bg:"card.bg",width:"100%",borderBottom:"1px solid",borderBottomColor:"divider",justifyContent:"space-between",children:[(0,x.jsx)(r.Translation,{alignItems:"center",display:"flex",variant:"unstyled",translation:"common.exit",component:c.zx,leftIcon:(0,x.jsx)(s.sG8,{size:24}),onClick:function(){return v(!1)}}),(0,x.jsx)(r.Translation,{alignItems:"center",display:"flex",variant:"unstyled",translation:["common.show","navBar.transactions"],component:c.zx,onClick:function(){return b(!0)}})]}),(0,x.jsx)(u.OperativeComponent,{flex:1,minHeight:m?"auto":"590px",borderRadius:m?0:void 0,assetId:e,actions:p})]}),(0,x.jsxs)(l.gC,{flex:1,bottom:0,spacing:0,width:"100%",height:["100vh","auto"],position:["fixed","relative"],top:[y?0:"100vh",0],sx:m?{transition:"top 0.3s ease-in-out"}:{},children:[m&&(0,x.jsxs)(l.Ug,{px:4,py:2,bg:"card.bg",width:"100%",borderBottom:"1px solid",borderBottomColor:"divider",justifyContent:"space-between",children:[(0,x.jsx)(r.Translation,{alignItems:"center",display:"flex",variant:"unstyled",translation:"common.back",component:c.zx,leftIcon:(0,x.jsx)(s.sG8,{size:24}),onClick:function(){return b(!1)}}),(0,x.jsx)(r.Translation,{textStyle:"ctaStatic",translation:"assets.assetDetails.assetHistory.transactionHistory",component:l.xv})]}),(0,x.jsx)(d.TransactionList,{assetIds:[n],fullHeightOnMobile:!0,maxH:["100%",600]})]})]}),m&&(0,x.jsx)(l.kC,{p:4,left:0,bottom:0,border:0,width:"100%",zIndex:[10,0],bg:"card.bgDark",position:"fixed",children:(0,x.jsx)(r.Translation,{component:c.zx,translation:["common.start","common.deposit"],variant:"ctaFull",onClick:function(){return v(!0)}})})]})}},59058:function(t,e,n){n.r(e),n.d(e,{Unstake:function(){return w}});var i=n(74165),a=n(15861),s=n(33482),o=n(55967),r=n(88935),l=n(7276),c=n(43127),d=n(3498),u=n(15542),x=n(1669),p=n(23023),m=n(78951),f=n(4710),h=n(86393),g=n(7386),v=n(99594),j=n(45263),w=function(t){var e,n,w,y=t.itemIndex,b=(0,r.Y)().account,C=(0,g.useAssetProvider)(),k=C.asset,S=C.vault,I=(0,f.useOperativeComponent)(),T=I.dispatch,M=I.activeItem,D=I.setActionIndex,A=(0,x.w)(),Z=A.stakingData,z=A.selectors.selectVaultPrice,F=(0,p.R)(),E=F.sendTransaction,P=F.setGasLimit,U=F.state.block,O=(0,l.useMemo)((function(){var t;return(0,v.d5)(null===Z||void 0===Z||null===(t=Z.position)||void 0===t?void 0:t.deposited)}),[Z]),B=(0,l.useMemo)((function(){var t,e;return!(null===Z||void 0===Z||null===(t=Z.position)||void 0===t||!t.lockEnd||!U)&&(0,v.qF)(null===Z||void 0===Z||null===(e=Z.position)||void 0===e?void 0:e.lockEnd).isSameOrBefore((0,v.qF)(1e3*U.timestamp))}),[Z,U]),H=(0,l.useMemo)((function(){var t,e;return null!==Z&&void 0!==Z&&null!==(t=Z.position)&&void 0!==t&&t.lockEnd?(0,v.p6)(null===Z||void 0===Z||null===(e=Z.position)||void 0===e?void 0:e.lockEnd,"YYYY-MM-DD HH:mm",!0):null}),[Z]),_=(0,l.useCallback)((function(){b&&B&&S&&"getWithdrawContractSendMethod"in S&&"getWithdrawParams"in S&&S instanceof s.y&&(0,a.Z)((0,i.Z)().mark((function t(){var e,n;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=S.getWithdrawParams(),n=S.getWithdrawContractSendMethod(e),E(S.id,S.id,n);case 3:case"end":return t.stop()}}),t)})))()}),[b,B,S,E]),L=(0,l.useCallback)((0,a.Z)((0,i.Z)().mark((function t(){var e,n,a,o,r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(S&&"getWithdrawContractSendMethod"in S&&"getWithdrawParams"in S&&S instanceof s.y){t.next=2;break}return t.abrupt("return");case 2:if(e=S.getMethodDefaultGasLimit("unstake"),b&&B){t.next=5;break}return t.abrupt("return",e);case 5:return n={from:null===b||void 0===b?void 0:b.address},a=S.getWithdrawParams(),o=S.getWithdrawContractSendMethod(a),t.next=10,(0,v.$K)(o,n);case 10:if(t.t0=t.sent,t.t0){t.next=13;break}t.t0=e;case 13:return r=t.t0,t.abrupt("return",r);case 15:case"end":return t.stop()}}),t)}))),[b,S,B]);(0,l.useEffect)((function(){M===y&&(0,a.Z)((0,i.Z)().mark((function t(){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:e=t.sent,P(e);case 4:case"end":return t.stop()}}),t)})))()}),[M,y,L,P]),(0,l.useEffect)((function(){M===y&&(T({type:"SET_ASSET",payload:k}),z&&S&&(T({type:"SET_AMOUNT",payload:(0,v.gA)(O).toString()}),T({type:"SET_DEFAULT_AMOUNT",payload:(0,v.gA)(O).toString()})))}),[S,k,O,z,M,y,T,_]);var G=(0,l.useMemo)((function(){return b?(0,j.jsx)(u.Translation,{component:c.zx,translation:"common.withdraw",disabled:!B,onClick:_,variant:"ctaFull"}):(0,j.jsx)(h.ConnectWalletButton,{variant:"ctaFull"})}),[b,B,_]);return(0,j.jsx)(g.AssetProvider,{flex:1,width:"100%",assetId:null===k||void 0===k?void 0:k.id,children:(0,j.jsxs)(d.gC,{flex:1,spacing:6,width:"100%",height:"100%",id:"withdraw-container",alignItems:"space-between",justifyContent:"flex-start",pt:null!==Z&&void 0!==Z&&null!==(e=Z.position)&&void 0!==e&&e.lockEnd?8:0,children:[(0,j.jsx)(d.gC,{flex:1,spacing:0,id:"confirm-on-wallet",alignItems:"flex-start",children:null!==Z&&void 0!==Z&&null!==(n=Z.position)&&void 0!==n&&n.lockEnd?B?(0,j.jsx)(d.M5,{py:14,px:10,flex:1,width:"100%",children:(0,j.jsxs)(d.gC,{spacing:6,children:[(0,j.jsx)(o.ppH,{size:72}),(0,j.jsxs)(d.gC,{spacing:4,children:[(0,j.jsx)(u.Translation,{component:d.xv,translation:"staking.lockExpired",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,j.jsx)(u.Translation,{component:d.xv,translation:"staking.canWithdrawLock",params:{amount:(0,v.dm)(O),asset:null===k||void 0===k?void 0:k.name},textStyle:"captionSmall",textAlign:"center"})]})]})}):(0,j.jsxs)(d.gC,{py:20,px:14,flex:1,spacing:6,width:"100%",children:[(0,j.jsx)(o.FKe,{size:72}),(0,j.jsxs)(d.gC,{spacing:4,children:[(0,j.jsx)(u.Translation,{component:d.xv,translation:"staking.lockNotExpired",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,j.jsx)(u.Translation,{component:d.xv,translation:"staking.waitUntilLockExpired",params:{lockEndDate:H},textStyle:"captionSmall",textAlign:"center"}),(0,j.jsx)(u.Translation,{component:c.zx,translation:"staking.increaseLock",onClick:function(){return D(0)},variant:"ctaPrimary",px:10})]})]}):(0,j.jsx)(d.M5,{px:14,flex:1,width:"100%",children:(0,j.jsxs)(d.gC,{spacing:5,children:[(0,j.jsx)(u.Translation,{component:d.xv,translation:"staking.noStake",textStyle:"heading",fontSize:"h3",textAlign:"center"}),(0,j.jsx)(u.Translation,{component:d.xv,translation:"staking.stakeBeforeUnstake",textStyle:"captionSmall",textAlign:"center"}),(0,j.jsx)(u.Translation,{component:c.zx,translation:"common.stake",onClick:function(){return D(0)},variant:"ctaPrimary",px:10})]})})}),(null===Z||void 0===Z||null===(w=Z.position)||void 0===w?void 0:w.lockEnd)&&B&&(0,j.jsxs)(d.gC,{spacing:4,id:"footer",alignItems:"flex-start",children:[B&&(0,j.jsx)(m.EstimatedGasFees,{}),G]})]})})}},80745:function(t,e,n){n.r(e),n.d(e,{Scrollable:function(){return l}});var i=n(1413),a=n(44925),s=(n(7276),n(3498)),o=n(45263),r=["children"],l=function(t){var e=t.children,n=(0,a.Z)(t,r);return(0,o.jsx)(s.kC,(0,i.Z)((0,i.Z)({flex:1,width:"100%",overflowY:"auto",overflowX:"hidden",direction:"column",alignItems:"flex-start"},n),{},{children:e}))}},48415:function(t,e,n){n.r(e),n.d(e,{Staking:function(){return v}});var i=n(7276),a=n(54447),s=n(87099),o=n(86059),r=n(67041),l=n(88935),c=n(59058),d=n(96362),u=n(15542),x=n(1669),p=n(3498),m=n(72258),f=n(37658),h=n(3148),g=n(45263),v=function(){var t=(0,l.Y)().account,e=(0,x.w)(),n=e.stakingData,v=e.selectors,j=v.selectVaultsByType,w=v.selectAssetById,y=(0,i.useMemo)((function(){var t;return j&&(null===(t=j("STK"))||void 0===t?void 0:t[0])}),[j]),b=(0,i.useMemo)((function(){return w&&y&&w(y.id)}),[w,y]),C=[{type:"stake",component:r.Stake,label:"common.stake",steps:[{type:"approve",component:d.Approve,props:{amountUsd:null},label:"modals.approve.header"}]},{type:"unstake",label:"common.unstake",component:c.Unstake,steps:[]}],k=(0,i.useMemo)((function(){if(!t||!n||n.position.deposited.lte(0))return null;return(0,g.jsx)(p.Ug,{spacing:20,width:"100%",children:[{field:"stakingDeposited",props:{fontSize:"h3",textStyle:"heading"},label:"assets.assetDetails.generalData.totalStaked"},{field:"stakingEndDate",props:{fontSize:"h3",textStyle:"heading"},tooltip:"assets.assetDetails.tooltips.lockEndDate",label:"assets.assetDetails.generalData.lockEndDate"}].map((function(t){return(0,g.jsx)(h.AssetGeneralDataField,{generalData:t},"field_".concat(t.field))}))})}),[t,n]),S=(0,i.useMemo)((function(){if(!t||!n||n.position.deposited.lte(0)||!y)return null;var e=y.getClaimRewardsContractSendMethod();return(0,g.jsxs)(p.gC,{spacing:6,width:"100%",alignItems:"flex-start",children:[(0,g.jsx)(u.Translation,{translation:"defi.claimable",suffix:" ".concat(s.MI),component:p.xv,textStyle:"heading",fontSize:"h3"}),(0,g.jsx)(a.Card,{p:6,px:8,width:"100%",children:(0,g.jsxs)(p.Kq,{width:"100%",spacing:[4,14],alignItems:"center",direction:["column","row"],justifyContent:"space-between",children:[(0,g.jsxs)(p.Ug,{width:"100%",spacing:[0,6],flexWrap:["wrap","nowrap"],justifyContent:["flex-start","space-between"],children:[(0,g.jsxs)(p.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(u.Translation,{component:p.xv,translation:"staking.totalSupply",textStyle:"captionSmall"}),(0,g.jsx)(o.Amount,{value:n.stkIDLE.totalSupply,suffix:" ".concat(y.stkIdleConfig.name),textStyle:"tableCell"})]}),(0,g.jsxs)(p.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(u.Translation,{component:p.xv,translation:"defi.balance",textStyle:"captionSmall"}),(0,g.jsx)(o.Amount,{value:n.position.balance,suffix:" ".concat(y.stkIdleConfig.name),textStyle:"tableCell"})]}),(0,g.jsxs)(p.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(u.Translation,{component:p.xv,translation:"defi.share",textStyle:"captionSmall"}),(0,g.jsx)(o.Amount.Percentage,{value:n.position.share,textStyle:"tableCell"})]}),(0,g.jsxs)(p.gC,{pb:[2,0],spacing:[1,2],width:["50%","auto"],alignItems:"flex-start",justifyContent:"flex-start",children:[(0,g.jsx)(u.Translation,{component:p.xv,translation:"defi.claimable",textStyle:"captionSmall"}),(0,g.jsx)(o.Amount,{value:n.position.claimable,suffix:" ".concat(s.MI),textStyle:"tableCell"})]})]}),(0,g.jsx)(m.TransactionButton,{text:"defi.claim",vaultId:y.id,assetId:y.id,contractSendMethod:e,actionType:"claim",amount:n.position.claimable.toString(),width:["100%","150px"],disabled:n.position.claimable.lte(0)})]})})]})}),[t,n,y]);return(0,g.jsxs)(p.xu,{width:"100%",children:[(0,g.jsx)(p.Kq,{my:[10,16],width:"100%",direction:["column","row"],justifyContent:"flex-start",alignItems:["flex-start","center"],children:(0,g.jsx)(u.Translation,{translation:"navBar.stakeIDLE",component:p.X6,as:"h2",size:"3xl"})}),(0,g.jsxs)(p.Ug,{width:"100%",spacing:[0,10],alignItems:"space-between",children:[(0,g.jsx)(p.Kq,{flex:1,mb:[20,0],spacing:10,width:["100%",.7],children:(0,g.jsxs)(p.gC,{spacing:10,width:"100%",children:[k,S,(0,g.jsx)(h.AssetGeneralData,{assetId:null===b||void 0===b?void 0:b.id})]})}),(0,g.jsx)(f.InteractiveComponent,{vaultId:null===b||void 0===b?void 0:b.id,assetId:null===y||void 0===y?void 0:y.id,actions:C})]})]})}},97778:function(t,e,n){n.r(e),n.d(e,{TokenAmount:function(){return d}});var i=n(1413),a=n(44925),s=(n(7276),n(3498)),o=n(86059),r=n(7386),l=n(45263),c=["assetId","amount","size"],d=function(t){var e=t.assetId,n=t.amount,d=t.size,u=(0,a.Z)(t,c);return(0,l.jsx)(r.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,l.jsxs)(s.Ug,{spacing:2,alignItems:"center",children:[(0,l.jsx)(r.AssetProvider.Icon,{size:d||"xs"}),(0,l.jsxs)(s.Ug,{spacing:1,alignItems:"center",children:[(0,l.jsx)(o.Amount,(0,i.Z)({value:n,decimals:3},u)),(0,l.jsx)(r.AssetProvider.Name,(0,i.Z)({},u))]})]})})}},72258:function(t,e,n){n.r(e),n.d(e,{TransactionButton:function(){return j},TransactionButtonValue:function(){return v}});var i=n(1413),a=n(29439),s=n(44925),o=(n(81608),n(55967)),r=n(53293),l=n(7276),c=n(15542),d=n(23023),u=n(96699),x=n(52486),p=n(3498),m=n(43127),f=n(45263),h=["text","contractSendMethod"],g=["text","amount","assetId","vaultId","actionType","contractSendMethod"],v=function(t){var e,n=t.text,r=t.contractSendMethod,m=(0,s.Z)(t,h),g=(0,u.Fg)(),v=(0,l.useRef)(null),j=(0,l.useState)(null),w=(0,a.Z)(j,2),y=w[0],b=w[1],C=(0,d.R)(),k=C.state.transaction,S=C.cleanTransaction,I=(0,l.useMemo)((function(){var t;return JSON.stringify(null===k||void 0===k||null===(t=k.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(r._method)}),[k,r]),T=(0,l.useMemo)((function(){return I&&k.status&&["pending","success","failed"].includes(k.status)&&k.estimatedTime}),[k,I]),M=(0,l.useMemo)((function(){return T&&"pending"===k.status?k.estimatedTime:.5}),[T,k]),D=(0,l.useCallback)((function(){if(!k.timestamp||!k.estimatedTime)return null;var t=+k.timestamp+1e3*k.estimatedTime,e=Math.max(0,Math.ceil((t-Date.now())/1e3));b(e),e&&(v.current=setTimeout((function(){D()}),1e3))}),[k]);(0,l.useEffect)((function(){var t;"success"===k.status||"failed"===k.status?(v.current&&(clearInterval(v.current),v.current=null),"success"!==k.status&&4001===(null===(t=k.error)||void 0===t?void 0:t.code)||setTimeout((function(){S()}),4e3)):"pending"!==k.status||v.current||D()}),[k.status,D,S,null===(e=k.error)||void 0===e?void 0:e.code]);var A=(0,l.useMemo)((function(){var t;if(I)switch(null===k||void 0===k?void 0:k.status){case"created":return(0,f.jsx)(x.$,{size:"sm"});case"pending":return k.timestamp&&k.estimatedTime&&y?(0,f.jsxs)(p.xv,{textStyle:"ctaStatic",children:[y,"s"]}):(0,f.jsx)(x.$,{size:"sm"});case"success":return(0,f.jsx)(p.kC,(0,i.Z)((0,i.Z)({},m),{},{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(o.ddU,{size:24,color:g.colors.green[400]})}));case"failed":if(4001!==(null===(t=k.error)||void 0===t?void 0:t.code))return(0,f.jsx)(p.kC,(0,i.Z)((0,i.Z)({},m),{},{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(o.lTq,{size:24,color:g.colors.red[400]})}))}return(0,f.jsx)(c.Translation,{translation:n,textStyle:"ctaStatic"})}),[I,y,k,n,g,m]),Z=(0,l.useMemo)((function(){switch(k.status){case"success":case"failed":return"transparent";default:return"primary"}}),[k]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p.kC,{top:0,left:0,bottom:0,bg:Z,overflow:"hidden",position:"absolute",alignItems:"center",justifyContent:"center",transition:"background 0.5s ease-in-out",sx:{animationIterationCount:1,animationFillMode:"forwards",animationTimingFunction:"ease-in-out",animationDuration:"".concat(M,"s"),animationName:T?"progress":"none",animationPlayState:T?"running":"stopped"},children:(0,f.jsx)(p.kC,{left:0,width:m.width,alignItems:"center",position:"absolute",justifyContent:"center",sx:{"> *":{color:"black !important",borderColor:"black !important"}},children:A})}),A]})},j=function(t){var e=t.text,n=t.amount,o=t.assetId,c=t.vaultId,u=t.actionType,x=t.contractSendMethod,p=(0,s.Z)(t,g),h=(0,r.Z)(),j=(0,a.Z)(h,2),w=j[0],y=j[1].width,b=(0,d.R)(),C=b.sendTransaction,k=b.state.transaction,S=(0,l.useMemo)((function(){var t;return JSON.stringify(null===k||void 0===k||null===(t=k.contractSendMethod)||void 0===t?void 0:t._method)===JSON.stringify(x._method)}),[k,x]),I=(0,l.useCallback)((function(){if("created"!==k.status&&"pending"!==k.status)return C(c,o,x,u,n)}),[k,c,o,x,u,n,C]),T=(0,l.useMemo)((function(){var t;if(!S)return"primary";switch(k.status){case"success":return"green.400";case"failed":return 4001!==(null===(t=k.error)||void 0===t?void 0:t.code)?"red.400":"primary";default:return"primary"}}),[S,k]);return(0,f.jsx)(m.zx,(0,i.Z)((0,i.Z)({py:2,px:10,overflow:"hidden",position:"relative",width:y||"auto",borderColor:T,onClick:function(){return I()},ref:w,variant:"ctaPrimaryOutline",transition:"border 0.5s ease-in-out"},p),{},{children:(0,f.jsx)(v,{text:e,contractSendMethod:x,width:y})}))}},18147:function(t,e,n){n.r(e),n.d(e,{TransactionList:function(){return C}});var i=n(1413),a=n(93433),s=n(29439),o=n(44925),r=n(7276),l=n(87099),c=n(99594),d=n(54447),u=n(88935),x=n(80745),p=n(97778),m=n(15542),f=n(1669),h=n(53293),g=n(3498),v=n(89030),j=n(10658),w=n(45263),y=["assetIds","showTitleOnMobile","fullHeightOnMobile"],b=function(t){var e=t.transaction;return(0,w.jsxs)(g.gC,{mb:2,pb:4,spacing:4,width:"100%",alignItems:"flex-start",borderBottomWidth:"1px",borderBottomColor:"divider",children:[(0,w.jsxs)(g.Ug,{width:"100%",justifyContent:"space-between",children:[(0,w.jsx)(g.Ug,{spacing:3,direction:"row",alignItems:"center",children:(0,w.jsx)(m.Translation,{component:g.xv,translation:"transactionRow.".concat(e.action),textStyle:"captionSmall"})}),(0,w.jsx)(g.xv,{textStyle:"captionSmall",children:(0,c.p6)(1e3*+e.timeStamp,l.Cu)})]}),(0,w.jsxs)(g.Ug,{width:"100%",justifyContent:"space-between",children:[(0,w.jsx)(p.TokenAmount,{assetId:e.assetId,amount:e.underlyingAmount,size:"xs",textStyle:"tableCell"}),(0,w.jsx)(j.TransactionLink,{hash:e.hash})]})]})},C=function(t){var e=t.assetIds,n=t.showTitleOnMobile,l=void 0!==n&&n,p=t.fullHeightOnMobile,j=void 0!==p&&p,C=(0,o.Z)(t,y),k=(0,u.Y)().account,S=(0,h.Z)(),I=(0,s.Z)(S,2),T=I[0],M=I[1],D=(0,f.w)(),A=D.isPortfolioLoaded,Z=D.isVaultsPositionsLoaded,z=D.selectors,F=z.selectVaultTransactions,E=z.selectVaultGauge,P=(0,r.useMemo)((function(){return k&&e&&F&&E?e.reduce((function(t,e){var n=E(e),i=F(e),s=n?F(n.id):[];return[].concat((0,a.Z)(t),(0,a.Z)(i),(0,a.Z)(s))}),[]):[]}),[k,e,F,E]),U=(0,r.useMemo)((function(){return A&&(!k||Z)}),[A,k,Z]),O=(0,r.useMemo)((function(){return U?P.length>0?(0,c.Pf)(P,"timeStamp","desc").map((function(t){return(0,w.jsx)(b,{transaction:t},"tx_".concat(t.hash))})):(0,w.jsx)(g.kC,{flex:1,minH:250,width:"100%",alignItems:"center",justifyContent:"center",children:(0,w.jsx)(m.Translation,{component:g.xv,translation:"assets.assetDetails.assetHistory.emptyTransactions"})}):(0,w.jsxs)(g.gC,{spacing:4,width:"100%",children:[(0,w.jsx)(v.Od,{width:"100%",height:10}),(0,w.jsx)(v.Od,{width:"100%",height:10}),(0,w.jsx)(v.Od,{width:"100%",height:10}),(0,w.jsx)(v.Od,{width:"100%",height:10})]})}),[U,P]);return(0,w.jsx)(d.Card,(0,i.Z)((0,i.Z)({flex:1},C),{},{children:(0,w.jsxs)(g.gC,{flex:1,spacing:0,height:"100%",alignItems:"flex-start",ref:T,justifyContent:"flex-start",children:[(0,w.jsx)(m.Translation,{display:l?"block":["none","block"],component:d.Card.Heading,translation:"assets.assetDetails.assetHistory.transactionHistory"}),(0,w.jsx)(x.Scrollable,{maxH:[j?"100%":280,Math.max((null===M||void 0===M?void 0:M.height)||400)],children:O})]})}))}},81608:function(t,e,n){n.r(e),e.default={}}}]);