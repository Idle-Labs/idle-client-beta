"use strict";(self.webpackChunkidle_dashboard_new=self.webpackChunkidle_dashboard_new||[]).push([[6698,1617,4447,219,6634,9220,5130,110,1925,4763],{61617:function(t,e,n){n.r(e),n.d(e,{AssetLabel:function(){return c}});var r=n(1413),a=n(44925),i=n(3498),o=n(75712),s=n(45263),l=["assetId","size","spacing"],c=function(t){var e=t.assetId,n=t.size,c=void 0===n?"sm":n,u=t.spacing,d=(0,a.Z)(t,l);return(0,s.jsx)(o.AssetProvider,{wrapFlex:!1,assetId:e,children:(0,s.jsxs)(i.Ug,{spacing:u,alignItems:"center",justifyContent:"flex-start",children:[(0,s.jsx)(o.AssetProvider.Icon,{size:c}),(0,s.jsx)(o.AssetProvider.Name,(0,r.Z)({textStyle:"heading",fontSize:["15px","h3"],whiteSpace:"nowrap"},d))]})})}},86698:function(t,e,n){n.r(e),n.d(e,{AssetStats:function(){return k}});var r=n(1413),a=n(93433),i=n(29439),o=n(54447),s=n(79681),l=n(87099),c=n(86059),u=n(12056),d=n(66288),f=n(98440),h=n(61617),g=n(15542),m=n(85267),v=n(1669),x=n(6634),p=n(14763),b=n(99594),y=n(7276),j=n(15568),w=n(61925),C=n(35130),Z=n(3498),S=n(90219),A=n(68414),M=n(45263),k=function(){var t=(0,s.qM)(),e=(0,m.m)().params,n=(0,d.X)().isMobile,k=(0,y.useState)(f.W.MONTH),I=(0,i.Z)(k,2),T=I[0],D=I[1],O=(0,v.w)(),L=O.vaults,P=O.selectors,z=P.selectAssetById,F=P.selectVaultById,E=(0,y.useState)(void 0),U=(0,i.Z)(E,2),B=U[0],R=U[1],W=(0,y.useMemo)((function(){return e.asset&&z&&z(e.asset)}),[z,e.asset]),H=(0,y.useMemo)((function(){return e.asset&&F&&F(e.asset)}),[F,e.asset]),N=(0,y.useMemo)((function(){return W&&u.A[W.type].color}),[W]),X=(0,y.useMemo)((function(){if(null!==W&&void 0!==W&&W.type)return["AA","BB"].includes(W.type)?["AA","BB"]:[W.type]}),[W]);(0,y.useEffect)((function(){X&&!B&&R(X)}),[B,X,R]);var _=(0,y.useMemo)((function(){if(null===W||void 0===W||!W.type)return[];switch(W.type){case"AA":case"BB":var t=(0,b.sj)(["AA","BB"],W.type)[0],e=L.find((function(e){return"cdoConfig"in e&&"cdoConfig"in H&&e.type===t&&e.cdoConfig.address===H.cdoConfig.address}));return[W.id,null===e||void 0===e?void 0:e.id];default:return[W.id]}}),[W,H,L]),G=(0,y.useMemo)((function(){return B?_.filter((function(t){var e=z(t);return e&&B.includes(e.type)})):[]}),[z,_,B]),q=function(t){var e=t.assetIds,n=t.timeframe,r=t.useDollarConversion,a=void 0===r||r,o=(0,y.useState)(!0),s=(0,i.Z)(o,2),l=s[0],c=s[1],u=(0,v.w)(),d=u.historicalTvls,f=(u.historicalTvlsUsd,u.selectors),h=f.selectAssetsByIds,g=f.selectAssetHistoricalTvls,m=f.selectAssetHistoricalTvlsUsd,x=(0,y.useMemo)((function(){return h?h(e):[]}),[e,h]),p=(0,y.useMemo)((function(){return n?(0,b.pM)(n):0}),[n]),j=(0,y.useMemo)((function(){var t={total:[],rainbow:[]};if(!Object.keys(d).length)return t;var e=x.reduce((function(e,n,r){if(!n.id)return e;var i=a?m(n.id):g(n.id);return i?(i.forEach((function(a){var i=a.date;if(!(i<p)){var o=a.value;e[i]||(e[i]={date:i,total:0}),n.id&&(e[i][n.id]=o,r||t.total.push({date:i,value:o}))}})),e):e}),{});return t.rainbow=Object.values(e),t}),[x,a,d,g,m,p]);return(0,y.useEffect)((function(){if(j.rainbow.length)return c(!1),function(){c(!0)}}),[j]),{assets:x,tvlChartData:j,tvlChartDataLoading:l}}({assetIds:G,timeframe:T}),V=q.tvlChartData,K=(0,A.C)({assetIds:G,timeframe:T}).performanceChartData,$=(0,j.h)({assetIds:G,timeframe:T}).rateChartData,J=(0,y.useCallback)((function(t){!B||1===B.length&&B.includes(t)||(B.includes(t)?R(B.filter((function(e){return e!==t}))):R([].concat((0,a.Z)(B),[t])))}),[B,R]),Y=(0,y.useMemo)((function(){var t;return null!==K&&void 0!==K&&null!==(t=K.rainbow)&&void 0!==t&&t.length?(0,M.jsx)(Z.Ug,{spacing:4,width:"full",children:G.map((function(t){var e=z(t),n=u.A[e.type].color,r=K.rainbow[0],a=K.rainbow[K.rainbow.length-1],i=Math.round((a.date-r.date)/1e3),o=(0,b.gA)(a[t]).div(r[t]).minus(1).times(l.eG).div(i).times(100);return(0,M.jsxs)(Z.Ug,{spacing:1,alignItems:"baseline",children:[(0,M.jsx)(c.Amount.Percentage,{textStyle:"heading",fontSize:"lg",color:n,value:o}),(0,M.jsx)(g.Translation,{translation:"defi.apy",fontSize:"sm",color:n})]},"asset_".concat(t))}))}):null}),[G,z,K]),Q=(0,y.useMemo)((function(){var t={data:[],colors:{}};return G?G.reduce((function(t,e){var n=z(e);return n?(t.colors[e]=u.A[n.type].color,t.data.push({value:parseFloat((0,b.gA)(n.tvlUsd).toFixed(2)),label:n.id,extraData:{asset:n}}),t):t}),t):t}),[G,z]),tt=(0,y.useCallback)((function(e){var r,a=Q.data.reduce((function(t,e){return t.plus(e.value)}),(0,b.gA)(0)),i=function(t){return"$".concat((0,b.dm)(t))},o=null===e||void 0===e||null===(r=e.extraData)||void 0===r?void 0:r.asset,s=(null===o||void 0===o?void 0:o.icon)||(null===W||void 0===W?void 0:W.icon),l=t(o?u.A[o.type].label:"dashboard.portfolio.totalChart"),c=i(e?e.value:a),d=o?u.A[null===o||void 0===o?void 0:o.type].color:"#ffffff";return(0,M.jsxs)(M.Fragment,{children:[s&&(0,M.jsx)("image",{y:"35%",href:s,height:"34",width:"34",textAnchor:"middle",x:n?"44.5%":"46.5%"}),(0,M.jsx)("text",{x:"50%",y:"54%",fontSize:26,fill:"white",fontWeight:600,textAnchor:"middle",pointerEvents:"none",children:c}),(0,M.jsx)("text",{x:"50%",y:"61%",fill:d,fontSize:14,fontWeight:400,textAnchor:"middle",pointerEvents:"none",children:l})]})}),[Q,W,t,n]);return(0,M.jsxs)(Z.xu,{mt:14,width:"100%",children:[(0,M.jsxs)(Z.Kq,{mb:10,spacing:10,width:"100%",alignItems:["flex-start","center"],justifyContent:"flex-start",direction:["column","row"],children:[(0,M.jsx)(h.AssetLabel,{assetId:e.asset,fontSize:"h2"}),(0,M.jsxs)(Z.Ug,{pb:3,flex:1,borderBottom:"1px solid",borderColor:"divider",justifyContent:"space-between",children:[(0,M.jsx)(C.StrategiesFilters,{toggleStrategy:J,selectedStrategies:B,availableStrategies:X}),(0,M.jsx)(w.TimeframeSelector,{variant:"button",timeframe:T,setTimeframe:D,width:["100%","auto"],justifyContent:["center","initial"]})]})]}),(0,M.jsxs)(Z.gC,{spacing:20,width:"full",children:[(0,M.jsxs)(Z.Kq,{spacing:6,width:"full",direction:["column","row"],children:[(0,M.jsxs)(Z.gC,{spacing:6,width:["full",2/3],alignItems:"flex-start",children:[(0,M.jsx)(g.Translation,{translation:"stats.performances",component:Z.X6,as:"h3",textStyle:"heading",fontSize:"xl"}),(0,M.jsx)(o.Card.Dark,{p:6,children:(0,M.jsxs)(Z.gC,{spacing:4,width:"full",children:[Y,(0,M.jsx)(x.GenericChart,{percentChange:0,assetIds:_,color:N,timeframe:T,isRainbowChart:!0,data:K,setPercentChange:function(){},height:n?"300px":"350px",margins:{top:10,right:0,bottom:65,left:0}})]})})]}),(0,M.jsxs)(Z.gC,{flex:1,spacing:6,width:["full","auto"],alignItems:"flex-start",children:[(0,M.jsx)(g.Translation,{translation:"stats.tvlDistribution",component:Z.X6,as:"h3",textStyle:"heading",fontSize:"xl"}),(0,M.jsx)(o.Card.Dark,{p:6,flex:1,children:(0,M.jsx)(S.DonutChart,(0,r.Z)((0,r.Z)({},Q),{},{getSliceData:tt}))})]})]}),(0,M.jsxs)(Z.MI,{spacing:6,width:"full",columns:[1,3],children:[(0,M.jsxs)(Z.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,M.jsx)(g.Translation,{translation:"defi.tvl",component:Z.X6,as:"h3",textStyle:"heading",fontSize:"xl"}),(0,M.jsx)(o.Card.Dark,{p:6,children:(0,M.jsx)(x.GenericChart,{percentChange:0,data:V,assetIds:_,color:N,timeframe:T,maxMinEnabled:!1,isRainbowChart:!0,setPercentChange:function(){},height:n?"300px":"350px",margins:{top:10,right:0,bottom:65,left:0}})})]}),(0,M.jsxs)(Z.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,M.jsx)(g.Translation,{translation:"defi.apy",component:Z.X6,as:"h3",textStyle:"heading",fontSize:"xl"}),(0,M.jsx)(o.Card.Dark,{p:6,children:(0,M.jsx)(x.GenericChart,{percentChange:0,assetIds:_,data:$,color:N,timeframe:T,maxMinEnabled:!1,isRainbowChart:!0,setPercentChange:function(){},height:n?"300px":"350px",formatFn:function(t){return"".concat((0,b.rp)(t))},margins:{top:10,right:0,bottom:65,left:0}})})]}),(0,M.jsxs)(Z.gC,{spacing:6,width:"full",alignItems:"flex-start",children:[(0,M.jsx)(g.Translation,{translation:"stats.volumes",component:Z.X6,as:"h3",textStyle:"heading",fontSize:"xl"}),(0,M.jsx)(o.Card.Dark,{p:6,flex:1,children:(0,M.jsx)(p.VolumeChart,{timeframe:T,assetIds:G})})]})]})]})]})}},54447:function(t,e,n){n.r(e),n.d(e,{Card:function(){return h},CardFlex:function(){return g},Dark:function(){return m},Light:function(){return v},Outline:function(){return x}});var r=n(1413),a=n(44925),i=n(3498),o=n(45263),s=["children"],l=["children","layerStyle"],c=["children","layerStyle"],u=["children"],d=["children"],f=["children"],h=function(t){var e=t.children,n=t.layerStyle,s=(0,a.Z)(t,l);return(0,o.jsx)(i.xu,(0,r.Z)((0,r.Z)({width:"100%",position:"relative",layerStyle:n||"card"},s),{},{children:e}))},g=function(t){var e=t.children,n=t.layerStyle,s=(0,a.Z)(t,c);return(0,o.jsx)(i.kC,(0,r.Z)((0,r.Z)({width:"100%",layerStyle:n||"card"},s),{},{children:e}))},m=function(t){var e=t.children,n=(0,a.Z)(t,u),i=["cardDark"].concat(t.layerStyle);return(0,o.jsx)(h,(0,r.Z)((0,r.Z)({},n),{},{layerStyle:i,children:e}))},v=function(t){var e=t.children,n=(0,a.Z)(t,d),i=["cardLight"].concat(t.layerStyle);return(0,o.jsx)(h,(0,r.Z)((0,r.Z)({},n),{},{layerStyle:i,children:e}))},x=function(t){var e=t.children,n=(0,a.Z)(t,f),i=["cardOutline"].concat(t.layerStyle);return(0,o.jsx)(h,(0,r.Z)((0,r.Z)({},n),{},{layerStyle:i,children:e}))};h.Dark=m,h.Light=v,h.Flex=g,h.Outline=x,h.Heading=function(t){var e=t.children,n=(0,a.Z)(t,s);return(0,o.jsx)(i.X6,(0,r.Z)((0,r.Z)({as:"h3",size:"md",mb:6},n),{},{children:e}))}},90219:function(t,e,n){n.r(e),n.d(e,{DonutChart:function(){return x},PieChart:function(){return h}});var r=n(1413),a=n(29439),i=n(14380),o=n(7276),s=n(28547),l=n(87563),c=n(68165),u=n(77806),d=n(45263),f={top:0,right:0,bottom:0,left:0};function h(t){var e=t.data,n=t.colors,l=t.width,c=t.height,h=t.margin,g=void 0===h?f:h,m=t.animate,x=void 0===m||m,p=t.getSliceData,b=(0,o.useState)(null),y=(0,a.Z)(b,2),j=y[0],w=y[1],C=l-g.left-g.right,Z=c-g.top-g.bottom,S=Math.min(C,Z)/2,A=Z/2,M=C/2,k=e.map((function(t){return t.label})),I=k.map((function(t){return n[t]})),T=(0,s.Z)({domain:k,range:I}),D=p&&p(j);return(0,d.jsxs)("svg",{width:l,height:c,children:[(0,d.jsx)("rect",{rx:14,width:l,height:c,fill:"url('#visx-pie-gradient')"}),D,(0,d.jsx)(i.Z,{top:A+g.top,left:M+g.left,children:(0,d.jsx)(u.Z,{padAngle:0,cornerRadius:0,pieValue:function(t){return t.value},outerRadius:S,innerRadius:S-30,data:e,children:function(t){return(0,d.jsx)(v,(0,r.Z)((0,r.Z)({},t),{},{animate:x,onMouseOver:function(t){var e=t.data;return w(e)},getKey:function(t){return t.data.label},onMouseOut:function(){return w(null)},getColor:function(t){return T(t.data.label)}}))}})})]})}var g=function(t){var e=t.endAngle;return{startAngle:e>Math.PI?2*Math.PI:0,endAngle:e>Math.PI?2*Math.PI:0,opacity:0}},m=function(t){return{startAngle:t.startAngle,endAngle:t.endAngle,opacity:1}};function v(t){var e=t.animate,n=t.arcs,a=t.path,i=t.getKey,o=t.getColor,s=t.onMouseOut,l=t.onMouseOver,u=t.onClickDatum;return(0,c.useTransition)(n,{from:e?g:m,enter:m,update:m,leave:e?g:m,keys:i})((function(t,e){return(0,d.jsx)("g",{children:(0,d.jsx)(c.animated.path,{d:(0,c.interpolate)([t.startAngle,t.endAngle],(function(t,n){return a((0,r.Z)((0,r.Z)({},e),{},{startAngle:t,endAngle:n}))})),fill:o(e),onClick:function(){return u&&u(e)},onMouseOver:function(){return l&&l(e)},onMouseOut:function(){return s&&s(e)},onTouchStart:function(){return u&&u(e)}})},Math.random())}))}var x=function(t){var e=t.data,n=t.colors,r=t.getSliceData;return(0,d.jsx)(l.Z,{debounceTime:10,children:function(t){return(0,d.jsx)(h,{data:e,colors:n,width:t.width,height:t.height,getSliceData:r})}})}},6634:function(t,e,n){n.r(e),n.d(e,{GenericChart:function(){return l}});var r=n(7276),a=n(3498),i=n(99594),o=n(64771),s=n(45263),l=function(t){var e=t.data,n=t.isRainbowChart,l=t.height,c=void 0===l?"350px":l,u=t.maxMinEnabled,d=void 0===u||u,f=t.color,h=void 0===f?"chart.stroke":f,g=t.formatFn,m=void 0===g?function(t){return"$".concat((0,i.dm)(t))}:g,v=t.margins,x=void 0===v?{top:0,right:0,bottom:0,left:0}:v,p=(0,r.useMemo)((function(){return e||{total:[],rainbow:[]}}),[e]),b=(0,r.useMemo)((function(){return!p.rainbow.length}),[p]);return(0,s.jsx)(a.xu,{width:"full",p:0,height:c,children:(0,s.jsx)(o.Graph,{color:h,data:p,loading:b,margins:x,isLoaded:!b,formatFn:m,maxMinEnabled:d,isRainbowChart:n})})}},9220:function(t,e,n){n.r(e),n.d(e,{HistogramChart:function(){return H}});var r=n(1413),a=n(93433),i=n(57118),o=n(99594),s=n(14380),l=n(7276),c=n(84033),u=n.n(c),d=n(64625),f=n(46177),h=n(97862),g=n(57478),m=n(25908),v=n(12528),x=n(23369),p=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function b(){return b=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b.apply(this,arguments)}function y(t){var e=t.data,n=t.className,r=t.top,a=t.left,i=t.x,o=t.y0,c=void 0===o?f.l8:o,y=t.y1,j=void 0===y?f.xf:y,w=t.xScale,C=t.yScale,Z=t.color,S=t.keys,A=t.value,M=t.order,k=t.offset,I=t.children,T=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,p),D=(0,d.Z)();S&&D.keys(S),A&&(0,g.Z)(D.value,A),M&&D.order((0,m.ZP)(M)),k&&D.offset((0,v.ZP)(k));var O=D(e),L=(0,h.Z)(w),P=O.map((function(t,e){var n=t.key;return{index:e,key:n,bars:t.map((function(e,r){var a=(C(c(e))||0)-(C(j(e))||0),o=C(j(e)),s="bandwidth"in w?w(i(e.data)):Math.max((w(i(e.data))||0)-L/2);return{bar:e,key:n,index:r,height:a,width:L,x:s||0,y:o||0,color:Z(t.key,r)}}))}}));return I?l.createElement(l.Fragment,null,I(P)):l.createElement(s.Z,{className:u()("visx-bar-stack",n),top:r,left:a},P.map((function(t){return t.bars.map((function(e){return l.createElement(x.Z,b({key:"bar-stack-"+t.index+"-"+e.index,x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color},T))}))})))}var j,w=n(79866),C=n(10577),Z=n(27091),S=n(87563),A=n(86059),M=n(29564),k=n(26720),I=n(96699),T=n(3498),D=n(75712),O=n(61168),L=n(5151),P=n(82173),z=n(32802),F=n(20663),E=n(48379),U=n(28547),B=n(45263),R={top:20,left:0,right:0,bottom:35},W=(0,O.Z)((function(t){var e,n=t.data,l=t.colors,c=t.width,u=t.height,d=t.events,f=void 0!==d&&d,h=t.tooltip,g=void 0===h||h,m=t.margin,v=void 0===m?R:m,x=t.tooltipOpen,p=t.tooltipTop,b=t.tooltipData,S=t.hideTooltip,O=t.showTooltip,W=(0,I.Fg)(),H=(0,M.R)().locale,N=function(t){return t.date},X={textAnchor:"middle",fontSize:12,fontWeight:"bold",fill:W.colors.table.axisLabel},_=u-v.top-v.bottom-10,G=c-v.left-v.right,q=Object.keys(l),V=q.map((function(t){return l[t]})),K=n.map((function(t){return t.total})),$=(0,z.Z)({padding:.2,range:[0,G],domain:n.map(N)}),J=(0,F.Z)({range:[0,G],domain:(0,i.Z)(n,(function(t){return(0,o.qF)(t.date).toDate()}))}),Y=Math.max.apply(Math,(0,a.Z)(K.map((function(t){return Math.abs(t)})))),Q=-Y,tt=(0,E.Z)({nice:!1,range:[_,0],domain:[Q,Y]}),et=(0,U.Z)({domain:q,range:V}),nt=(0,k.ff)("white",W.colors.card.bg),rt=(0,k.ff)(W.colors.gray[200],W.colors.gray[700]),at=(0,k.ff)(W.colors.gray[800],"white");return(0,B.jsxs)("div",{style:{position:"relative"},children:[(0,B.jsxs)(Z.Z,{width:c,height:u,children:[(0,B.jsx)(s.Z,{top:v.top,children:(0,B.jsx)(y,{data:n,keys:q,x:N,color:et,xScale:$,yScale:tt,offset:"diverging",children:function(t){return t.map((function(t){return t.bars.map((function(e){return(0,B.jsx)("rect",{x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color,onClick:function(){f&&alert("clicked: ".concat(JSON.stringify(e)))},onMouseLeave:function(){j=window.setTimeout((function(){S()}),300)},onMouseMove:function(t){j&&clearTimeout(j);var n=(0,C.Z)(t),r=e.x+e.width/2;O({tooltipData:e,tooltipTop:null===n||void 0===n?void 0:n.y,tooltipLeft:r})}},"bar-stack-".concat(t.index,"-").concat(e.index))}))}))}})}),(0,B.jsx)(w.Z,{strokeWidth:1,hideTicks:!0,top:_/2+v.top,scale:$,stroke:"white",tickFormat:function(){return""}}),(0,B.jsx)(w.Z,{hideTicks:!0,hideAxisLine:!0,numTicks:5,scale:J,top:u-v.bottom,tickLabelProps:function(){return X}})]}),g&&x&&b&&(0,B.jsx)(L.Z,{top:p,left:b.x,style:(0,r.Z)((0,r.Z)({},P.j),{},{border:"none",backgroundColor:"transparent",paddingTop:0,paddingLeft:0,paddingBottom:0,paddingRight:0}),children:(0,B.jsxs)(T.gC,{p:2,spacing:3,width:"full",alignItems:"flex-start",borderRadius:"lg",borderColor:rt,borderWidth:1,color:at,bgColor:nt,children:[(0,B.jsx)(T.gC,{spacing:4,width:"full",alignItems:"flex-start",children:Object.keys(b.bar.data).filter((function(t){return!["date","total"].includes(t)})).map((function(t){return(0,B.jsxs)(T.gC,{spacing:2,width:"full",alignItems:"flex-start",children:[(0,B.jsx)(D.AssetProvider,{assetId:t,children:(0,B.jsxs)(T.Ug,{spacing:1,children:[(0,B.jsx)(D.AssetProvider.Icon,{size:"2xs"}),(0,B.jsx)(D.AssetProvider.Name,{fontWeight:"bold"}),(0,B.jsx)(D.AssetProvider.Strategy,{color:et(t),fontWeight:"bold",prefix:"(",suffix:")"})]})}),(0,B.jsx)(A.Amount.Usd,{abbreviate:!1,fontWeight:"bold",fontSize:"md",value:b.bar.data[t]})]},t)}))}),(0,B.jsx)(T.xv,{fontSize:"xs",color:W.colors.gray[500],children:(e=b.bar.data,(0,o.qF)(N(e)).locale(H).format("LLL"))})]})},Math.random())]})})),H=function(t){var e=t.data,n=t.colors,r=t.labels,a=t.tooltip;return(0,B.jsx)(S.Z,{debounceTime:10,children:function(t){return(0,B.jsx)(W,{width:t.width,height:t.height,data:e,tooltip:a,colors:n,labels:r})}})}},35130:function(t,e,n){n.r(e),n.d(e,{StrategiesFilters:function(){return f}});var r=n(7276),a=n(3498),i=n(43127),o=n(12056),s=n(66288),l=n(60110),c=n(88935),u=n(1669);var d=n(45263),f=function(t){var e=t.checkUserFunds,n=void 0!==e&&e,f=t.showOnMobile,h=void 0===f||f,g=t.toggleStrategy,m=t.availableStrategies,v=t.selectedStrategies,x=function(){var t=(0,c.Y)().account,e=(0,u.w)(),n=e.isVaultsPositionsLoaded,a=e.vaultsPositions;return!!(0,r.useMemo)((function(){return t&&n&&Object.keys(a).length>0}),[t,n,a])}(),p=(0,s.X)().isMobile;return n&&!x||!h&&p?null:(0,d.jsx)(a.Ug,{spacing:3,children:(m||Object.keys(o.A)).filter((function(t){return o.A[t].visible})).map((function(t){return(0,d.jsx)(i.zx,{minW:"180px",variant:"filter",onClick:function(){return g(t)},"aria-selected":null===v||void 0===v?void 0:v.includes(t),children:(0,d.jsx)(l.StrategyLabel,{color:"primary",strategy:t})},"strategy_".concat(t))}))})}},60110:function(t,e,n){n.r(e),n.d(e,{StrategyLabel:function(){return u}});var r=n(1413),a=n(44925),i=(n(7276),n(12056)),o=n(15542),s=n(3498),l=n(45263),c=["strategy","customText","showLabel"],u=function(t){var e=t.strategy,n=t.customText,u=t.showLabel,d=void 0===u||u,f=(0,a.Z)(t,c);if(!e)return null;var h=i.A[e];return h?(0,l.jsxs)(s.Ug,{spacing:2,alignItems:"center",children:[d&&(0,l.jsx)(o.Translation,(0,r.Z)({component:s.xv,translation:n||(null===h||void 0===h?void 0:h.label),textStyle:"ctaStatic"},f)),(0,l.jsx)(s.xu,{width:2,height:2,borderRadius:"50%",bg:h.color})]}):null}},61925:function(t,e,n){n.r(e),n.d(e,{TimeframeSelector:function(){return u}});var r=n(1413),a=n(44925),i=(n(7276),n(98440)),o=n(3498),s=n(43127),l=n(45263),c=["timeframe","setTimeframe","variant"],u=function(t){var e=t.timeframe,n=t.setTimeframe,u=t.variant,d=void 0===u?"text":u,f=(0,a.Z)(t,c);return(0,l.jsx)(o.Ug,(0,r.Z)((0,r.Z)({spacing:"button"===d?4:[6,10]},f),{},{children:Object.values(i.W).map((function(t){var r=t===e;switch(d){default:case"text":return(0,l.jsx)(o.xv,{textStyle:"cta",color:"ctaDisabled","aria-selected":r,onClick:function(){return n(t)},children:t.toUpperCase()},"timeframe_".concat(t));case"button":return(0,l.jsx)(s.zx,{px:6,border:0,variant:"filter","aria-selected":r,onClick:function(){return n(t)},children:t.toUpperCase()},"timeframe_".concat(t))}}))}))}},14763:function(t,e,n){n.r(e),n.d(e,{VolumeChart:function(){return f}});var r=n(9220),a=n(4942),i=n(1413),o=n(29439),s=n(95636),l=n(7276),c=n(99594),u=n(1669),d=n(45263),f=function(t){var e=function(t){var e=t.assetIds,n=t.timeframe,r=t.useDollarConversion,d=void 0===r||r,f=(0,l.useState)(!0),h=(0,o.Z)(f,2),g=h[0],m=h[1],v=(0,u.w)(),x=v.historicalTvls,p=v.selectors,b=p.selectAssetsByIds,y=p.selectAssetHistoricalTvls,j=p.selectAssetHistoricalTvlsUsd,w=(0,l.useMemo)((function(){return b?b(e):[]}),[e,b]),C=(0,l.useMemo)((function(){return n?(0,c.pM)(n):0}),[n]),Z=(0,l.useMemo)((function(){var t={total:[],rainbow:[]};if(!Object.keys(x).length)return t;var e=w.reduce((function(t,e){if(!e.id)return t;var n=d?j(e.id):y(e.id);if(!n)return t;var r=null;return n.forEach((function(n){var a=n.date;if(!(a<C)){if(r&&e.id){t[a]||(t[a]={date:a,total:0});var i=(0,c.gA)(n.value).minus(r.value);t[a][e.id]=Number(i.toFixed(8)),t[a].total=Number((0,c.gA)(t[a].total).plus(i).toFixed(8))}r=n}})),t}),{});return t.total=Object.values(e).map((function(t){return{date:t.date,value:t.total}})),t.rainbow=Object.values(e),t}),[w,d,x,y,j,C]),S=(0,l.useMemo)((function(){return w.length?w.reduce((function(t,e){return(0,i.Z)((0,i.Z)({},t),{},{labels:(0,i.Z)((0,i.Z)({},t.labels),{},(0,a.Z)({},e.id,e.name)),colors:(0,i.Z)((0,i.Z)({},t.colors),{},(0,a.Z)({},e.id,s.A2[e.type].color))})}),{labels:{},colors:{}}):{labels:{},colors:{}}}),[w]);return(0,l.useEffect)((function(){if(Z.rainbow.length)return m(!1),function(){m(!0)}}),[Z]),{volumeChartData:Z,volumeChartDataLoading:g,labels:S.labels,colors:S.colors}}({assetIds:t.assetIds,timeframe:t.timeframe}),n=e.labels,f=e.colors,h=e.volumeChartData;return e.volumeChartDataLoading?null:(0,d.jsx)(r.HistogramChart,{colors:f,labels:n,data:h.rainbow})}},68414:function(t,e,n){n.d(e,{C:function(){return s}});var r=n(29439),a=n(99594),i=n(7276),o=n(1669),s=function(t){var e=(0,i.useState)(!0),n=(0,r.Z)(e,2),s=n[0],l=n[1],c=(0,o.w)(),u=c.historicalPrices,d=c.selectors,f=d.selectAssetsByIds,h=d.selectAssetHistoricalPrices,g=t.assetIds,m=t.timeframe,v=(0,i.useMemo)((function(){return f?f(g):[]}),[g,f]),x=(0,i.useMemo)((function(){return m?(0,a.pM)(m):0}),[m]),p=(0,i.useMemo)((function(){var t={total:[],rainbow:[]};if(!Object.keys(u).length)return t;var e=v.reduce((function(e,n,r){if(!n.id)return e;var a=h(n.id);return a?(a.forEach((function(a){var i=a.date;if(!(i<x)){var o=a.value;e[i]||(e[i]={date:i,total:0}),n.id&&(e[i][n.id]=o,r||t.total.push({date:i,value:o}))}})),e):e}),{});return t.rainbow=Object.values(e),t}),[v,u,h,x]);return(0,i.useEffect)((function(){if(p.rainbow.length)return l(!1),function(){l(!0)}}),[p]),{assets:v,performanceChartData:p,performanceChartDataLoading:s}}}}]);